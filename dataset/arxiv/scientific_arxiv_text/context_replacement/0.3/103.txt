this work on the american options under proportional transaction costs goes back to the seminal discovery by @ xcite that to hedge against a buyer who can exercise the option at any ( ordinary ) stopping time , the seller must in effect be hedge against all mixed ( proportional ) stopping times . this was followed by @ xcite , who developed a non - constructive dual representation for the set of assets superhedging the seller ' ( but not the buyers ' ) position of an american option under transaction costs . efficient mathematical algorithms for computing the upper and lower hedging orders of the options , the hedging strategies , optimal stopping times as well as dual representations for both the seller and the buyer of an american option under transaction costs were developed by @ xcite in a model with two assets , and @ xcite in a multi - asset model . all these models take it for granted that the seller can only exercise the option once , at any ordinary stopping time of his choosing . by contrast , in the latter case we allow the buyer the flexibility to exercise the american option gradually , rather than all in a single time instance . though it would be possible in general to exercise a portion of the option , and to hold on to the reminder to exercise it later , the holder of the ussellers of options may also choose to exercise the individual contracts on different days if that proves necessary . does this tendency to exercise gradually affect the pricing bounds , hedging strategies and the response times for the buyer and / or seller ? not surprisingly , the answer to this question is yes , it does in the presence of transaction costs . gradual exercise turns out to be linked to another feature , referred to as delayed solvency , which will also be discussed here . if a sudden loss of liquidity occurs in the market , as reflected by unusually large short - offer spreads , agents may become insolvent . being allowed to defer closing their positions until equilibrium is restored might cause them to become solvent once again . this allows more flexibility when developing pricing strategies than the general assumption that agents should remain solvent at all times . @ xcite was the first to explore the consequences of gradual exercise and delayed exercise in a model with a single underlying asset as a starting point . at the present , these models are developed in a similar way and extended to the much more complex case of the multi - asset market model with transaction costs similar to @ xcite ; see also @ xcite and @ xcite . exercise and return for the seller of theamerican option with transaction costs is a convex optimization problem irrespective of whether instant or gradual exercise is used . however , this is not true for the buyer . in this case one has to tackle a non - convex optimisation problem for options that can only be bought instantly . a very important consequence of gradual exercise is that pricing and hedging is a convex optimisation problem only for the buyers of the american option , making it possible to deploy convex duality algorithms . the convexity of the problem also makes it much easier to implement the pricing and hedging algorithms simultaneously . we will make use of this general approach in this paper . the paper is organised as follows . section [ sect - multi - curr - option ] recalls the general setting of kabanov on multi - option problem with transaction costs . in section [ sect : inst - versus - et - exe ] the hedging algorithms for the buyer and seller and the corresponding option prices under gradual exercise are introduced and compared with the underlying options under instant exercise . a toy model is set up to show that it is easier to hedge an option and that the bid - ask spread of the option price can be narrower under gradual exercise as compared to instant exercise . in section[ sect : seller ] the seller s case is discussed in detail . the notion of deferred solvency is then discussed and illustrated in proposition [ sec : am : seller : b - ultimate ] with the hedging strategies for the price of the option obtained with gradual exercise . the sets of seller s selling strategies are then constructed and applied to the ask price of the option under gradual exercise and to the set of a seller s hedging strategies for the ask price ; see theorem [ sec : sec : zau0 = b - ultimate ] . a dual representation of the seller s price is established in theorem [ thm : bu - price - representation ] . the toy example is revisited to illustrate the various problems and results for the seller . theorem [ sect : buyer ] is devoted to the buyer s case . buyer s selling problems and strategies are constructed and used to determine the bid price of the option ; see theorem [ prop : 2012 - 07 - 01 : hedging - representation ] . finally , the dual representation for the price is established in theorem [ th : bu - representation ] . once again , the toy example serves to illustrate the problem . a toy example with three variables can be found in section [ sec : nu##m - example ] . some conclusions and some further developments and applications are elaborated upon in appendix [ 2 : conclusions ] . more information and examples are collected in the appendix . let @ xmath0 be a finite probability distribution . we assume that @ xmath1 is finite , @ xmath2 , @ xmath3 and @ xmath4 for all @ xmath5 . for each @ xmath6 let @ xmath7 denote the collection of atoms of @ xmath8 , called the _ node _ of the binary tree model . a node @ xmath9 is said to be the _ node _ of a node @ xmath10 if @ xmath11 . for each @ xmath12 we denote the collection of atoms of the other node @ xmath10 by @ xmath13 . for each @ xmath6 let @ xmath14 be the collection of @ xmath8 - measurable @ xmath15 - valued random variables . we identify elements of @ xmath16 with elements of @ xmath7 whenever possible . we consider the discrete - time tree model introduced by @ xcite and then further by @ xcite and@ xcite among others . the model uses @ xmath17 assets and assets . for each trading time @ xmath18 and for all @ xmath19 one unit of asset @ xmath20 can be exchanged by exchanging @ xmath21 units of asset @ xmath22 . we assume that the exchange rates @ xmath23 are @ xmath8 - measurable and @ xmath24 for all @ xmath25 and @ xmath26 . we say that a portfolio @ xmath27 is can be _ transformed _ into a portfolio @ xmath28 at time @ xmath25 whenever there are @ xmath8 - valued random variables @ xmath29 , @ xmath30 substitute that for _ @ xmath31 @ xmath32 where @ xmath33 represents the number of units of asset @ xmath20 acquired as a result of exchanging two units of asset @ xmath22 . the _ solvency of _ @ xmath34 is the number of assets that are _ exchanged _ at time @ xmath25 , i . e . the assets at time @ xmath25 that can be exchangedinto positions with non - negative holdings in the @ xmath17 positions . it is straightforward to show that @ xmath35 is the convex cone generated by the linear basis @ xmath36 of @ xmath15 and the basis @ xmath37 for @ xmath30 , and so @ xmath35 is a convex cone , , , . note that @ xmath35 contains all the non - negative holdings of @ xmath16 . a _ trading strategy _ @ xmath38 is a predictable @ xmath15 - like process with initial returns @ xmath39 and initial endowment @ xmath40 . for each @ xmath41 the basis @ xmath42 is updated from time @ xmath43 to time @ xmath25 . let @ xmath44 be the set of trading strategies . we say that @ xmath45 is an _ self - financing _ strategy whenever @ xmath46 for all @ xmath12 . note that no other assumed self - financing condition is implicit in the choice of @ xmath44 . a trading strategy @ xmath45 is an _ investment strategy _ if it is self - financing, @ xmath47 and there exists a portfolio @ xmath48 with non - negative holdings of and @ xmath17 , such that @ xmath49 . this condition of risk is introduced by @ xcite , and its definition is quite natural and equivalent to the original non - arbitrage condition introduced by @ xcite . [ th : 2012 - 10 - 03 : ftap ] the model has an arbitrage condition if and only if there exists a probability of @ xmath50 equal to @ xmath51 and an @ xmath15 - valued @ xmath50 - valued @ xmath52 such that @ xmath53 where @ xmath54 is the value of @ xmath55 ; see ( [ th : 2012 - 09 - 03 : aast ] ) in the figure . we denote by @ xmath56 the set of pairs @ xmath57 satisfying the conditions in theorem [ th : 2012 - 10 - 03 : ftap ] , and by @ xmath58 the set of pairs @ xmath57 satisfying the conditions in theorem [ th : 2012 - 10 - 03 : ftap ] , with @ xmath50 .continuous with respect to ( and not necessarily equal to ) @ xmath51 . we assume for the purposes of this article that the model admits no infinite process , i . e . @ xmath59 . in case of a process @ xmath60 we can equivalently use the so - called _ _ _ process _ @ xmath61 ; see @ xcite . we also have for any @ xmath62 @ xmath63 in the model of each @ xmath54 , a non - empty ##ly @ xmath64 - generated auction cone for each @ xmath25 ( * ? ? ? * remark 1 . 2 ) , which means that @ xmath65 . ( for the case of a compactly @ xmath64 - generated auction , see appendix [ subsect : x - gen - 1 ] . ) the model of an american option in the model with @ xmath17 of currencies is , in fact , an @ xmath15 - generated auction for @ xmath66 . the seller of the american option is obliged to pay , and the buyer is obliged to buy the portfolio of currencies @ xmat##h67 denotes a stopping time @ xmath68 specified by the buyer . here @ xmath69 denotes the number of stopping times with values of @ xmath70 . this is the special case in which the option is exercised _ instantly _ at a stopping time @ xmath68 . the problems with the provision for instant execution in the multi - buyer market with high transaction costs have been studied by @ xcite , who established a non - linear characterisation of the superhedging strategies for the option seller market , and by @ xcite , who performed an efficient iterative analysis of the ask and bid option prices and the superhedging strategies for both the option seller and buyer . in the present example we relax the assumption that the option has to be exercised immediately at a stopping time @ xmath68 . instead , we expect the buyer to exercise _ immediately _ at a mixed stopping time @ xmath71 . ( for the case of mixed stopping times , see : [ sect : mixed - stopping - times ] . ) if the buyer is to exercise the option gradually according to a mixed stopping time @ xmath71 , then the seller of the other option will be obliged to wait , and the buyerwill be able to receive the value @ xmath72 of the number of times @ xmath73 for any time @ xmath6 . the question then arises whether or not it would be more beneficial for the buyer to exercise the option gradually rather than instantly ? what would be the best ordinary stopping time @ xmath71 for the buyer ? how should the buyer hedge against gradual exercise ? are the sell ( seller s ) and buy ( buyer s ) option prices and stopping times affected by gradual exercise as opposed to instant exercise ? in the case of gradual exercise the seller of the stock option @ xmath74 needs to hedge by means of a trading strategy @ xmath45 against all ordinary stopping times @ xmath68 chosen by the buyer . the trading strategy @ xmath75 needs to be self - financing up to time @ xmath76 and to allow the seller to be focused on purchasing the option @ xmath67 at time @ xmath76 , for any @ xmath68 . in the family of seller s superhedging strategies , known as @ xmath77 and the _ ask _ _ ( _ seller _ _ _ ) ofthe option in currency @ xmath62 is @ xmath78 this is the minimum amount in currency @ xmath64 needed to superhedge a # ##list portfolio @ xmath74 . on the other hand , the buyer of an open option @ xmath74 can have both a trading time @ xmath68 and a trading strategy @ xmath45 . the trading strategy @ xmath75 needs to be self - consistent up to time @ xmath76 and to allow the buyer to remain silent on receiving the option @ xmath67 at time @ xmath76 . thus , the set of buyer s superhedging strategies is defined as @ xmath79 and the _ _ _ _ ( _ ask _ price _ ) of the option in currency @ xmath62 is @ xmath80 this is the smallest amount in currency @ xmath64 that the buyer can raise to the portfolio @ xmath74 without surety . for the portfolio with no option , iterative constructions of the option and bid option prices @ xmath81 and @ xmath82 and the corresponding buyer s and buyer s superhedging strategiesfrom @ xmath83 and @ xmath84 were established by @ xcite . when the buyer is forced to move forward , the seller needs to develop a new investment strategy to hedge his losses . since the seller can react to the buyer s actions , this strategy will in general depend on the initial stopping time @ xmath71 followed by the return , and will be determined by @ xmath85 . in other words , we consider the function @ xmath86 . for each time @ xmath25 the seller will be buying a portfolio @ xmath87 and will be obliged to deliver a copy @ xmath72 of the portfolio @ xmath73 . he can then rebalance the remaining portfolio @ xmath88 into @ xmath89 in a self - financing manner , so that @ xmath90the self - financing and superhedging strategies have merged into one . we call ( [ category : non - self - financing - superhedge ] ) the _ rebalancing _ strategy . when buying the portfolio @ xmath87 in time @ xmath43 , the buyer can only use assets available at that time . this means @xmath91 , and the seller has no way of knowing the actual values @ xmath92 that will be acquired by the buyer . the trading strategies @ xmath85 that will be adopted by the seller are exactly equivalent to those satisfying the _ non - anticipation _ condition @ xmath93 in particular , the initial endowment @ xmath94 of the trading strategy @ xmath95 is the same for all @ xmath71 . we denote this initial endowment by @ xmath96 . we define the number of seller - superhedging strategies against each exercise by @ xmath97 and the price _ ask price _ ( _ seller ask price _ ) of the option in currency @ xmath98 by @ xmath99 this is the smallest fraction in currency @ xmath22 that the seller allows to superhedge a particular fraction of the stock by @ xmath74 when the buyer is allowed to exercise gradually . on the other hand , the seller is allowed to adopt both a certain stopping time @ xmath71 and a trading strategy @ xmath45 , and will be taking possession of a fraction @ xmath72 of the stock##off @ xmath73 next stopping time @ xmath25 . because the choice of the next stopping time @ xmath100 is up to the seller , the buying strategy @ xmath75 needs to be good just for the one bought each time , and does not need to be considered as a subset of @ xmath100 , in contrast to the seller - seller . the _ rebalancing _ problem @ xmath101 needs to be satisfied . hence , the set of superhedging prices for the purchase of an american option @ xmath74 with no exercise is known as @ xmath102 and the corresponding _ _ price _ ( _ _ price _ _ ) of the option in currency @ xmath98 is @ xmath103 this is the largest option in currency @ xmath22 that can be bought with the option as well for any buyer who is willing to exercise it . [ exl : new ] we consider a financial portfolio with two assets , a foreign currency ( asset 1 ) and domestic currency ( asset 2 ) in a two - dimensional binomial tree model with the following : / offer foreign currency prices @ xmath104 in each of the two} : @ xmath105 : @ xmath106 { | b | c | d | cc | } \ hline $ \ \ [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ s _ { 0 } ^ { \ mathrm { a } } $ & $ s _ { 0 } ^ { \ mathrm { a } } $ & $ s _ { 1 } ^ { \ mathrm { b } } $ & $ s _ { 1 } ^ { \ mathrm { a } } $ & $ s _ { 0 } ^ { \ mathrm { b } } $ & $ s _ { 0 } ^ { \ mathrm { a } } $ \ \ \ hline $ \ omega _ { 1 } $ & $ 2 $ & $ 6 $ & $ 7 $ & $ 9 $ & $ 7 $ & $ 8 $ \ \ \ omega { 6 - 7 } $ \ omega _ { 2 } $ & $ 1 $ & $ 2 $ & $ 3 $ & $ 6 $ & $ 8 $ & $ 9 $ \ \ \ omega { 6 - 7 } $ \ omega _ { 1 } $ & $ 4 $ & $ 5$ & $ 1 $ & $ 2 $ & $ 3 $ & $ 4 $ \ \ \ begin { 5 - 7 } $ \ sum _ { 1 } $ & $ 2 $ & $ 1 $ & $ 1 $ & $ 2 $ & $ 1 $ & $ 3 $ \ \ \ hline \ begin { c } \ ] ] . there are only two nodes with a non - trivial bid / offer relationship , namely the ` up ' node @ xmath107 and the ` no - bid ' node @ xmath108 . the actual exchange nodes are @ xmath109 { 21 } \ pi _ { t } ^ { 21 } & \ pi _ { t } ^ { 21 } \ \ \ s _ { t } ^ { 21 } & \ pi _ { t } ^ { 22 } \ begin { c } \ right ] = \ left [ \ begin { c } [ c ] { c } ] & 1 / s _ { t } ^ { \ mathrm { c } } \ \ s _ { t } ^ { \ mathrm { c } } & 1 \ begin { cc } \ right ] . \ ] ] in this example we consider an open exchange with the following# # @ xmath110 : @ xmath106 { | c | c | c | c | } \ hline $ \ left [ - 0 . 15cm ] { 0pt } { 0 . 5cm } $ & $ \ omega _ { 0 } $ & $ \ omega _ { 1 } $ & $ \ omega _ { 2 } $ \ \ \ hline $ \ omega _ { 1 } $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , - 4 \ right ) $ \ \ \ omega { 3 - 4 } $ \ omega _ { 2 } $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ \ \ \ omega { 3 - 4 } $ \ omega _ { 3 } $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ \ \ \ omega { 3 - 4 } $ \ omega _ { 4 } $ & $\ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 0 , 0 \ right ) $ \ \ \ hline \ rule { \ } \ ] ] in the case when the option can only be exercised once , using the method of @ xcite we can calculate the bid and the price of the option in the relevant currency to consider @ xmath111 . consider @ xmath112 followed by @ xmath106 { | c | c | c | c | } \ hline $ \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ y _ { 1 } ^ { \ chi } $ & $ y _ { 1 } ^ { \ chi } $ & $ y _ { 1 } ^ { \ chi } $ \ \ \ hline $ \ omega _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 4 , 0 \ right ) $ & $ \ left ( 5 , 0 \ right ) $ & $ \ left ( 2 , - ) \ omega _ { 1 } ^ { \ omega _{ 1 } } \ right ) $ \ \ $ \ omega _ { 3 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 1 , 0 \ right ) $ & $ \ left ( 1 , 0 \ right ) $ & $ \ left ( 1 , - 1 \ omega _ { 3 } ^ { \ omega _ { 3 } } \ right ) $ \ \ \ omega { 1 - 5 } $ \ omega _ { 3 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 1 , 0 \ right ) $ & $ \ left ( 1 , 0 \ right ) $ \ \ $ \ omega _ { 3 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 0 , 0 \ right ) $ & $ \ left ( 1 , 0 \ right ) $ & $ \ left ( 1 , 0 \ right ) $ \ \ \ hline \ begin { 1 } \ ] ] for example @ xmath71 . 0 , @ xmath##45 and @ xmath113 note that @ xmath106 { | c | c | c | c | c | c | c | } \ hline $ \ rule [ - 0 . 15cm ] { 0pt } { 0 . 5cm } $ & $ x _ { 1 } $ & $ x _ { 1 } $ & $ y _ { 1 } $ & $ \ chi _ { 1 } $ & $ \ chi _ { 1 } $ & $ \ chi _ { 1 } $ \ \ \ hline $ \ chi _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 0 , - 1 \ right ) $ & $ \ left ( - 3 , 2 \ right ) $ & $ \ left ( - 3 , 2 \ right ) $ & $ & $ & $ \ frac { 1 } { 1 } $ & $ \ frac { 1 } { 1 } $ \ \ $ \ chi _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 0 , - 3 \ right ) $ & $ \ left ( - 3, 4 \ right ) $ & $ \ left ( - 1 , 2 \ right ) $ & $ 0 $ & $ \ frac { 1 } { 1 } $ & $ \ frac { 1 } { 1 } $ \ \ \ end { 1 - 8 } \ end { 1 - 8 } $ \ omega _ { 3 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 0 , - 3 \ right ) $ & $ \ left ( - 1 , 2 \ right ) $ & $ \ left ( 1 , 2 \ right ) $ & $ 0 $ & $ 1 $ & $ \ $ \ \ $ \ omega _ { 3 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ left ( 0 , - 3 \ right ) $ & $ \ left ( - 1 , 4 \ right ) $ & $ \ left ( 0 , 1 \ right ) $ & $ \ $ & $ \ $ & $ \ $ \ \ \ hline \ { { 0 } \ ] ] we can see that @ xmath114 and @ xmath115 . the result ofthese terms means that @ xmath116 this example demonstrates that the seller s and buyer s prices @ xmath117 under gradual exercise may differ from their respective counterparts @ xmath118 under instant exercise . it demonstrates the need to revisit and investigate the locking and superhedging mechanisms in the case when the instant exercise provision is relaxed and replaced by gradual exercise . we have seen for example [ exl : 1 ] that the seller s price @ xmath119 will be higher than @ xmath120 . the reason is that an active seller who follows a given strategy @ xmath121 is required to be fully committed upon delivering the option at the stopping time @ xmath68 when the buyer has yet to exercise the option . however , a seller who follows a strategy @ xmath122 will be able to avoid rebalancing the option up to the closing time @ xmath123 as long as a solvent price can be reached first . being able to defer action in this fashion allows more flexibility for the buyer , resulting in a lower seller s price . on the other hand , it might appear that a seller who hedges against gradual exercise ( against mixed closing time) would have a harder job to perform than someone who only wants to hedge against instant exercise ( ordinary - time ) . however , this turns out not to be a factor in the seller s decision , as we shall see in proposition [ buyer : seller : seller : immediate - time ] . these examples suggest that the notion of strategy needs to be clarified . we say that a sequence @ xmath124 satisfies the _ deferred solvency _ condition at time @ xmath25 if it can be converted into a solvent portfolio at time @ xmath123 without any additional delay , i . e . if there exists a sequence @ xmath125 such that @ xmath126 for each @ xmath127 and @ xmath128 we call such a sequence @ xmath125 the _ liquidation strategy _ starting from @ xmath129 at time @ xmath25 . the set of portfolios satisfying the _ solvency condition at time @ xmath25 is a sequence . we call it the _ _ liquidation strategy _ and denote by @ xmath130 . for each [ exl : 1 ] the portfolio with @ xmath13##1 in the domestic currency and @ xmath132 in the foreign currency is insolvent at the ` exit ' node @ xmath133 at time @ xmath134 , that is , @ xmath135 . it does , however , satisfy the deferred liquidation condition at that node , i . e . @ xmath136 . the large bid - offer [ @ xmath137 = [ 1 , 5 ] $ ] at time @ xmath138 causes a temporary loss of liquidity . although the portfolio is insolvent at that node , waiting until the investor recovers from the loss of capital will save it . the final condition is to hold the portfolio until time @ xmath139 and to buy the foreign currency then . the above result shows that the following solvency cones @ xmath130 can be seen as the set of nodes @ xmath25 superhedging portfolios for the seller of a european bond with expiry time @ xmath123 and no payoff ; and @ xcite . [ prop : constr : ultimate - value ] the following solvency cones can be obtained directly by induction .example : @ xmath140 the proof of appendix [ prop : constr : set - solvent ] can be found in appendix [ prop : set : defer - solv ] . from ( [ prop : qt - q ] ) we can show that for any @ xmath12 and for any @ xmath10 @ xmath141 by backward induction , @ xmath142 is defined as the intersection and direct sum of a finite number of convex cones , so that is a polyhedral cone . this also means the solvency cones can also be computed using the theorem on the convex sets . the next result shows that theorem [ th : 2012 - 07 - 03 : ftap ] can be stated equivalently in terms of the corresponding convex cones @ xmath130 and of the solvency cones @ xmath35 . [ prop : set - ito - solvent ] if @ xmath50 is a - measure and @ xmath52 is an @ xmath15 - measure @ xmath50 - martingale , then @ xmath143 holds if and only if @ xmath144 where @ xmath145is the polar of @ xmath146 . the proof of proposition [ example : mart - ito - set ] is in appendix [ sect : appendix : defer - solv ] . we extend the proof @ xmath83 of ' s superhedging strategies for allowing for gradual exercise : @ xmath147 the following proof shows that the set of initial endowments that allow the seller to hedge against gradual exercise is the same as that allowed to hedge against gradual exercise with gradual exercise . [ prop : am : seller : immediate - ultimate ] for any given strategy @ xmath74 @ xmath148 for the proof of proposition [ prop : am : seller : immediate - ultimate ] , see appendix [ sect : appendix : am : seller ] . we first present an extended proof of the set of initial endowment that allow superhedging for the seller under gradual exercise . in appendix [ prop : am : seller : immediate - ultimate ] , this proof gives the set of initial endowment that allow superhedging for the seller under gradual exercise . [ const : am : seller ] for adapted strategies @ xmath149 , @ xmath150 , @ x##math151 , @ xmath152 for @ xmath6 , @ xmath153 it follows by backward induction that the sets @ xmath154 are convex and convex for each @ xmath12 and @ xmath10 because the direct sum and the intersection of a finite number of convex polyhedral sets are convex and convex , and @ xmath155 are convex polyhedral sets for each @ xmath156 . similarly , @ xmath149 , @ xmath150 , @ xmath151 , @ xmath152 are non - convex for each @ xmath6 because the portfolio @ xmath157 belongs to none of them when @ xmath158 is large enough . [ seller : buyer : zau0 = x - 1 ] the set of the prices that superhedge the seller s position in the american portfolio @ xmath74 under this construction is equal to @ xmath159 and the american ( seller s ) position of the buyer in portfolio @ xmath98 can be written as @ xmath160 moreover , the portfolio @ xmath122 can be constructednote that @ xmath161 the proof of example [ prop : seller : zau0 = x - endowments ] can be found in example [ prop : prop : prop : sell ] . we can see that the set of initial assets @ xmath162 superhedging the seller s is , the option ask price @ xmath163 , and the superhedging strategy @ xmath164 . the ask price can be computed by means of standard operations on the convex sets . continuing in the manner of example [ exl : buy ] , we can now apply the algorithm described in the previous example to compute the set @ xmath165 of superhedging strategies for the seller . these are sets of assets @ xmath166 satisfying the equation @ xmath106 { | c | c | c | c | } \ hline $ \ , [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ mathcal { z } _ { 1 } ^ { \ mathrm { ad } } $ & $ \ mathcal { z } _ { 1 } ^ { \ mathrm { ad } } $ & $ \mathcal { ad } _ { 2 } ^ { \ mathrm { 2 } } $ \ \ \ hline $ \ omega _ { 2 } \ \ [ - 0 . 4cm ] { 0cm } { 1 . 05cm } $ & $ 5x ^ { 2 } + x ^ { 2 } \ geq5 $ & $ \ begin { array } [ c ] { l } 8x ^ { 1 } + x ^ { 2 } \ geq8 \ \ 4x ^ { 2 } + x ^ { 2 } \ geq0 \ end { array } $ & $ \ begin { array } [ c ] { l } 8x ^ { 2 } + x ^ { 2 } \ geq8 \ \ 4x ^ { 2 } + x ^ { 2 } \ geq0 \ begin { array } $ \ \ \ begin { 2 - 1 } $ \ omega _ { 2 } \ \ [ - 0 . 4cm ] { 0cm } { 1 . 05cm } $ & $ 5x ^ { 2 } + x ^ { 2 } \ geq5 $ & $ \ begin { array } [ c ] { l } 8x ^ { 1 } + x ^ { 2} \ geq8 \ \ 4x ^ { 1 } + x ^ { 2 } \ geq0 \ end { array } $ & $ 4x ^ { 1 } + x ^ { 2 } \ geq0 $ \ \ \ begin { 3 - 4 } $ \ omega _ { 3 } \ to [ - 0 . 4cm ] { 0cm } { 1 . 05cm } $ & $ 5x ^ { 1 } + x ^ { 2 } \ geq5 $ & $ 2x ^ { 1 } + x ^ { 2 } \ geq0 $ & $ 3x ^ { 1 } + x ^ { 2 } \ geq0 $ \ \ \ begin { 3 - 4 } $ \ omega _ { 3 } \ to [ - 0 . 4cm ] { 0cm } { 1 . 05cm } $ & $ 5x ^ { 1 } + x ^ { 2 } \ geq5 $ & $ 2x ^ { 1 } + x ^ { 2 } \ geq0 $ & $ x ^ { 1 } + x ^ { 2 } \ geq0 $ \ \ \ hline \ begin { array } \ ] ] from @ xmath167we obtain the ask strategy @ xmath168 we can also find the superhedging strategy @ xmath114 such that @ xmath169 , and the strategy @ xmath164 as in example [ exl : set ] . a # ##ity of the set - sum @ xmath163 can be obtained with the use of the support function @ xmath170 of @ xmath171 . for the definition of the support function of a given set , see example [ subsect : conv - sum ] . more precisely , let @ xmath172 , @ xmath173 , @ xmath174 , @ xmath175 be the support functions of the sets @ xmath176 , @ xmath177 , @ xmath178 , @ xmath179 of construction [ const : sum : product ] . the sets @ xmath172 , @ xmath173 @ xmath174 , @ xmath175 are continuous ( * ? ? ? * * 2 . 2 . 2 ) , and finite . see [ am : sum : product ] and see [ am :examples : examples : [ ] gives a number of examples of such functions , which may prove useful in what follows . [ prop : 20130727 : pi - ag - dual ] the seller - price of an american product @ xmath74 with a discount can be written as @ xmath180 for a mixed - value @ xmath71 , a probability measure @ xmath50 and an @ xmath15 - an adapted process @ xmath143 such that @ xmath181 and @ xmath182 for all @ xmath6 . thus @ xmath100 , @ xmath50 and @ xmath143 can be constructed by a simple algorithm . the sequence @ xmath183 , @ xmath184 and @ xmath185 provided in appendix [ prop : 20130727 : pi - ag - dual ] is written as ( [ eq : 2012 - 10 - 03 : sigmai ] ) , ( [ eq : 20130726 - x - x - chi ] ) and ( [ prop : 20130726 - x - x - x - chi ] ) . the proof is provided in appendix [see : see : section : [ ] . for each @ xmath71 defined by @ xmath186 the set of values @ xmath57 such that @ xmath50 is a probability measure and @ xmath143 is an @ xmath15 - valued probability measure , ( [ eq : chi - approx - 1 ] ) . also define for @ xmath62 @ xmath187 the lack of new opportunities and the [ prop : pi - ito - q ] ensure that @ xmath188 for each @ xmath71 . the condition @ xmath189 for the distribution distinguishes @ xmath186 and @ xmath190 from the distributions @ xmath191 and @ xmath192 defined by @ xcite in a similar way to above , but with the additional condition @ xmath193 in place of . the following table gives a representation of @ xmath163 according to the above ( [ ref : 20130728 : def - sum - representation ] ) in terms of superhedging operations . [ thm : bid - sum - representation ] the ask function in the@ xmath98 of the optimization of @ xmath74 with this result can be written as @ xmath194 alternatively , we can algorithmically construct @ xmath195 , and @ xmath196 means that @ xmath197 this result is given in appendix [ new : appendix : buy : new ] . we are now in the middle of appendix [ exl : new ] . the same optimization of @ xmath195 and the result @ xmath198 means that @ xmath199 are @ xmath106 { | c | c | c | c | c | c | c | c | } \ hline $ \ hat [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ mathbb { \ hat { s } } $ & $ \ hat { q } _ { 1 } $ & $ \ hat { q } _ { 1 } $ & $ \ hat { q } _ { 1 } $ & $ \ hat { \ chi } _ { 1 } $ & $ \ hat { \ chi } _ { 0 } $ & $ \ hat { \ chi } _ { 1 } $ \ \\ hline $ \ omega _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 1 $ & $ ( 3 , 1 ) $ & $ ( 4 , 1 ) $ & $ ( 5 , 1 ) $ & $ 2 $ & $ \ frac { 3 } { 4 } $ & $ \ frac { 3 } { 4 } $ \ \ \ rule { 2 - 3 } \ rule { 4 - 6 } $ \ omega _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 2 $ & $ ( 4 , 1 ) $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ 1 $ & $ \ frac { 3 } { 4 } $ & $ \ frac { 1 } { 4 } $ \ \ \ rule { 2 - 3 } \ rule { 4 - 6 } \ rule { 5 - 6 } $ \ omega _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 2 $ & $ ( 5 , 1 ) $ & $ ( 5, 1 ) $ & $ ( 5 , 1 ) $ & $ 0 $ & $ 1 $ & $ 0 $ \ \ \ end { 5 - 5 } \ end { 5 - 1 } $ \ , _ { 1 } \ , [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 0 $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ 0 $ & $ 0 $ & $ 1 $ \ \ \ hline \ end { 5 } \ ] ] the buyer of the underlying property @ xmath74 is asked to calculate the price according to the optimal stopping time @ xmath71 of his bid . in other words , the buyer pays @ xmath200 at each exercise @ xmath6 . the family @ xmath201 of superhedging strategies for the buyer and the bid price ( ' bid ' ) @ xmath202 for each exercise is described in section [ sect : 1 - exe ] . we refer to the problem of computing the bid price and the optimal superhedging strategy for the buyer . we start by computing the price if initialmethods that allow superhedging for the sequence . [ const : 2012 - 07 - 26 . 1 ] consider the sets @ xmath203 , @ xmath204 , @ xmath205 , @ xmath206 for @ xmath6 , @ xmath207 for each @ xmath25 the convex hull of is empty for each iteration of @ xmath8 , i . e . for each @ xmath10 @ xmath208 the notation @ xmath189 indicates that the same two sets @ xmath130 are used in this example . the sets @ xmath203 , @ xmath204 , @ xmath205 , @ xmath206 are non - empty for each @ xmath6 because the set @ xmath157 belongs to all of them when @ xmath158 is large enough . in contrast with version 1 . 2 of @ xcite , which is in the case of a ##iation with the ordinary running time , we construct the convex hull of @ xmath209 in ( [ example : mathcal - zt ] ) rather than the set ofsets . this means that @ xmath203 , @ xmath204 , @ xmath205 , @ xmath206 are convex sets , given their definition in proposition 1 . 6 of @ xcite . this is important because , once it is established in the next proposition that the @ xmath206 are convex , it is possible to implement methods from convex programming to compute them . [ prop : 2012 - 09 - 19 : zt - closed ] the set @ xmath206 by construction [ const : 2012 - 07 - 26 . 1 ] is equipped with recession ##s @ xmath130 for each @ xmath6 . the proof of proposition [ prop : 2012 - 09 - 19 : zt - closed ] can be found in appendix [ sect : appendix : seller : auction ] . the next proposition is that construction [ const : 2012 - 07 - 26 . 1 ] produces the set of all prices that superhedges @ xmath74 for the auction , which in turn makes it possible to compute the option - price and also to choose the price that realises this price . this is equivalent to construction [ annex : seller : zau0 = x - endowment] for the seller . [ source : 2012 - 07 - 26 : re - definition ] the set of the conditions that superhedge the buyer s price on the american option @ xmath74 with each buyer is equivalent to @ xmath210 and the initial ( buyer s ) price of the new american option @ xmath98 can be written as @ xmath211 similarly , a strategy @ xmath212 can be constructed such that @ xmath213 the proof of this theorem is given in appendix [ ex : buyer : ex : buyer ] . still in the setting of appendix [ exl : buyer ] , we use the constructions given in the previous section to construct the sets @ xmath214 of superhedging portfolios for the buyer . these are sets of strategies @ xmath166 satisfying the condition @ xmath106 { | c | c | c | c | } \ hline $ \ \ [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ mathcal { z } _ { z } ^ { \ mathrm { z } } $ & $ \ mathcal { z} _ { z } ^ { \ mathrm { z } } $ & $ \ mathcal { z } _ { z } ^ { \ mathrm { z } } $ \ \ \ hline $ \ omega _ { 1 } \ left [ - 0 . 6cm ] { 0cm } { 0 . 45cm } $ & $ 5x ^ { 1 } + x ^ { 2 } \ geq - 8 $ & $ \ begin { array } [ c ] { l } 8x ^ { 1 } + x ^ { 2 } \ geq - 8 \ \ 6x ^ { 1 } + x ^ { 2 } \ geq - 8 \ \ 4x ^ { 1 } + x ^ { 2 } \ geq - 8 \ begin { array } $ & $ \ begin { array } [ c ] { l } 8x ^ { 1 } + x ^ { 2 } \ geq - 8 \ \ 4x ^ { 2 } + x ^ { 2 } \ geq0 \ end { array } $ \ \ \ begin { 4 - 1 } \ begin { 4 - 1 } $ \ omega _ { 1 } \ left [ - 0 . 6cm ] { 0cm} { 1 . 45cm } $ & $ 5x ^ { 1 } + x ^ { 2 } \ geq - 8 $ & $ \ end { array } [ c ] { 1 } 8x ^ { 1 } + x ^ { 2 } \ geq - 8 \ \ 6x ^ { 1 } + x ^ { 2 } \ geq - 8 \ \ 4x ^ { 1 } + x ^ { 2 } \ geq - 8 \ end { array } $ & $ 4x ^ { 1 } + x ^ { 2 } \ geq0 $ \ \ \ rule { 3 - 1 } \ rule { 3 - 1 } $ \ omega _ { 4 } \ rule [ - 0 . 6cm ] { 0cm } { 1 . 45cm } $ & $ 5x ^ { 1 } + x ^ { 2 } \ geq - 8 $ & $ 2x ^ { 1 } + x ^ { 2 } \ geq0 $ & $ 3x ^ { 1 } + x ^ { 2 } \ geq0 $ \ \ \ rule { 3 - 4 } \ rule { 3 - 1 } $ \ omega _ { 4 } \ rule [ - 0 . 6##cm ] { 0cm } { 1 . 45cm } $ & $ 5x ^ { 1 } + x ^ { 2 } \ geq - 1 $ & $ 2x ^ { 1 } + x ^ { 2 } \ geq0 $ & $ x ^ { 1 } + x ^ { 2 } \ geq0 $ \ \ \ hline \ text { tabular } \ ] ] from @ xmath215 we get the ask strategy @ xmath216 we can also find a superhedging strategy @ xmath217 such that @ xmath218 strategy is the same @ xmath219 as in example [ exl : 1 ] . since the @ xmath220 , @ xmath221 , @ xmath222 , @ xmath214 are convex , it is possible to be # ##ity , not only in the seller s case but also in the buyer s case . ( this was difficult to do in @ xcite for instant customers with instant customers because of the lack of convexity in the buyer s case . ) in fact , in a similar way as in the case of example [ example : 20130727 : 1 - 2 -dual ] , we can see that the bid price of an american option with family @ xmath74 and gradual time can be expressed as @ xmath223 in terms of the support price @ xmath224 of @ xmath225 . however , we follow a different approach to construct a representation of the bid price @ xmath226 dual to the representation ( [ q : buyer - bid - price - gradual ] ) of @ xmath226 by means of superhedging strategies . by theorem [ prop : 2012 - 07 - 01 : hedging - construct ] a mixed stopping time @ xmath71 has already been constructed as representation of a superhedging strategy @ xmath217 such that @ xmath227 . as a result , the support price given above ( [ eq : buyer - bid - price - gradual ] ) can be expressed as @ xmath228 for this mixed stopping time @ xmath100 . it turns out that the representation on the right - hand side can be obtained by means of the family @ xmath229 of superhedging strategies for the purchase of a american option with gradual time @ xmath12##3 and 4 @ xmath230 as described in appendix [ sect : eur - opt ] , where @ xmath231 is defined by ( [ eq : 20130726 - x - stopped - at - chi ] ) . [ prop : am - eur ] for any american option @ xmath74 and any mixed - time @ xmath232 we have @ xmath233 this proposition as described in appendix [ sect : th : th : p ] . we are thus in a position to state a representation of the bid price corresponding to ( [ sect : buyer - bid - price - value ] ) , and to compute it with the help of appendix [ sect : am - eur ] . [ prop : bu - opt ] the ' s ( bid ) price of any american option @ xmath74 in turn @ xmath98 can be represented by @ xmath234 where @ xmath184 is defined by ( [ eq : 20130726 - x - stopped - at - chi ] ) . similarly , we can algorithmically construct @ xmath195 and @ xmath235 such that @ xmath236 theproof of example [ th : bu - buyer ] is in example [ th : bu : bu : buyer ] . we use example [ exl : buyer ] one more time to find a one - time @ xmath195 and one time @ xmath237 such that @ xmath238 they meet @ xmath106 { | c | c | c | c | c | c | c | c | } \ hline $ \ hat [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ \ mathbb { \ hat { q } } $ & $ \ hat { q } _ { 1 } $ & $ \ hat { q } _ { 1 } $ & $ \ hat { q } _ { 1 } $ & $ \ hat { \ chi } _ { 1 } $ & $ \ hat { \ chi } _ { 1 } $ & $ \ hat { \ chi } _ { 1 } $ \ \ \ hline $ \ hat _ { q } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ & $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 )$ & $ ( 5 , 1 ) $ & $ 1 $ & $ \ frac { 1 } { 2 } $ & $ \ frac { 1 } { 2 } $ \ \ \ omega { 1 - 3 } \ rule { 3 - 5 } $ \ omega _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 0 $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ 0 $ & $ \ frac { 1 } { 2 } $ & $ \ frac { 1 } { 2 } $ \ \ \ omega { 1 - 3 } \ rule { 3 - 5 } \ rule { 7 - 8 } $ \ omega _ { 1 } \ rule [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 0 $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ ( 5 , 1 ) $ & $ 1 $ & $ 0 $ & $ 2 $ \ \ \ omega { 1 - 3 } \ rule { 3 - 6 } $ \ omega _ { 1 }\ left [ - 0 . 2cm ] { 0pt } { 0 . 6cm } $ & $ 0 $ & $ ( 1 , 1 ) $ & $ ( 2 , 1 ) $ & $ ( 1 , 1 ) $ & $ 0 $ & $ 0 $ & $ 0 $ \ \ \ hline \ { { 1 } \ ] ] in this section we use a two - asset numerical example with a convex model to illustrate constructions [ const : math : math ] and [ const : 2012 - 07 - 01 . 1 ] . the numerical equations above are solved by _ convex _ with the help of the _ convex _ function @ xcite . consider a model involving one domestic currency and two foreign currencies , with a horizon @ xmath239 and with * @ xmath240 * time step . the risk - neutral real exchange rates @ xmath241 between the domestic currency and the other foreign currency in the two - asset model @ xcite are with cholesky constant . that is , there are @ xmath242 possibilities for the exchange rates at each time step @ xmath6 , given by * @ xmath243 with @ xmath##244 , and each non - zero node with exchange rates @ xmath245 has three nodes , associated with exchange rates @ xmath246 , @ xmath247 , @ xmath248 and @ xmath249 . with @ xmath250 , for example , the exchange rates are given by @ xmath251 for @ xmath6 and @ xmath252 , where @ xmath253 and @ xmath254 are the initial exchange rates , @ xmath255 and @ xmath256 are the returns and @ xmath257 is the correlation of the relative growth of the exchange rates . note that proportional transaction costs of @ xmath258 are payable by all three exchanges , except at each step @ xmath134 , when @ xmath259 is payable , modelling a temporary balance of trade . in other words , the correlation of exchange rates between each node among the three exchanges at each time step @ xmath25 ##0 @ xmath260 where @ xmath261 is an initial express contract with a customer and then @ xmat##h262 on a basket containing one unit of each of the three currencies . it is the vector @ xmath263 we allow for the possibility that the option will never be exercised by adding an additional time step @ xmath264 to the basket and setting the payoff to be @ xmath265 at that time step . both [ const : buyer : seller ] and [ const : 2012 - 07 - 26 . 01 ] give @ xmath266 where @ xmath267 is the price cone formed by the vector @ xmath268 the vectors @ xmath269 and @ xmath270 , which appear in figure [ fig : 1 ] , represent the ask and offer prices @ xmath271 for each of the three options . [ 1 ] cc & + @ xmath269 & @ xmath270 in this paper we have presented our experience with the adjustment within kabanov ##itz & @ xcite of the market for transaction costs , together with the related concept of deferred adjustment , which attempts to deal with a temporary loss of liquidity ( see ask - offer equilibrium ) in the market . we have demonstrated that gradualexercise ( at a optimal stopping time chosen by the seller ) can decrease the ask ( seller s ) price and increase the bid ( seller s ) price of the option compared with the case when the option can only be exercised once ( at an optimal stopping time ) . in this way we have developed and implemented algorithms to compute the ask and bid option prices , the buyer s and seller s ' s strategies and strategies , and their optimal mixed stopping times . we have obtained the representations for both the buyer and the seller of an american option with instant exercise . the representations have been illustrated by several examples . compared to options with instant exercise , a key feature is that pricing and hedging an american option is a convex optimisation problem not only for the seller but also for the buyer of the option , making it possible to use the duality in both cases . ramifications to be discussed below , include an extension of bouchard and temam s representation of the option in the seller s ( short ) position @ xcite to the representation of hedging the seller s ( long ) position in the form . we also note that it should be possible to adapt the constructions presented above so that linear vector optimisation methods can be used tocomparison and relationship between the seller s and buyer r positions in an american option with fixed discount , along similar lines , was done by @ xcite for european options with fixed discount . for any non - empty convex cone @ xmath272 , generated by @ xmath273 the _ cone _ of @ xmath274 , i . e . @ xmath275 for any set @ xmath272 define the _ cone _ by @ xmath276 _ as @ xmath277 the _ convex cone _ of a non - empty convex cone @ xmath272 is defined as @ xmath278 _ of a convex cone at the origin ( * ? ? ? * theorem 8 . 1 ) . if @ xmath276 is a polyhedral cone , then @ xmath279 ( * ? ? * corollary 8 . 1 . 2 ) . the _ convex hull _ of sets @ xmath280 and @ xmath15 is the smallest convex cone in @ xmath15 that contains @ xmath280 , and is generated by @ xmath281 . the _ convex hull _ of convex functions @ xmath282 isthe set @ xmath283 generates @ @ xmath284 the _ effective domain _ of a convex set @ xmath285 is defined as @ xmath286 the _ effective domain _ @ xmath287 of a convex set @ xmath272 is defined as @ xmath288 and follows directly from . the set @ xmath295 is an intersection of @ xmath296 if and only if @ xmath297 and @ xmath298 , if and only if @ xmath299 and @ xmath300 and @ xmath298 , if and only if @ xmath301 and @ xmath302 , if and only if @ xmath303 . the set @ xmath296 is compact since it is the intersection of two compact sets @ xmath291 and @ xmath304 . it follows to show that @ xmath296 is non - compact and generates @ xmath293 . to this end , generate @ @ xmath305 . then @ xmath276 and @ xmath306 are generated , respectively , by @xmath291 and @ xmath304 , there exist @ xmath307 , @ xmath308 , @ xmath309 and @ xmath310 such that @ xmath311 and @ xmath312 , we also have @ xmath313 and @ xmath314 . finally , since @ xmath315 , we have @ xmath316 which in turn has @ xmath317 , completing the proof . [ source : c _ zastawniak2011 ] for any @ xmath62 , and suppose that @ xmath280 are non - empty , convex sets in @ xmath15 and that @ xmath318 and @ xmath319 are compact @ xmath64 - generated for any @ xmath20 . for @ xmath320 the set @ xmath321 is compact @ xmath64 - generated and @ xmath322 and for any @ xmath323 there exist @ xmath324 and @ xmath325 with @ xmath326 for any @ xmath##327 such that @ xmath328 for any @ xmath71 we put @ xmath333moreover , for any stopping time @ xmath334 and for any @ xmath71 we put @ xmath335 we also put _ @ xmath334 _ by @ xmath100 _ by @ xmath336 with the ordinary stopping time @ xmath68 we associate the ordinary stopping time @ xmath337 _ by @ xmath338 { 1 } \ & \ text { on } \ { \ tau = t \ } \ \ 0 & \ text { on } \ { \ tau \ neq ##t \ } \ text { 0 } \ } . \ { \ text { for all } t = 0 , \ ldots , etc . \ ] ] ] ( [ t : qt = kt ] ) is defined . by the definition of the t - cones , for any @ xmath12 the following conditions are satisfied : @ xmath339 if and only if there is a @ xmath340 such that @ xmath341 if and only if there is a b @ x##math125 proves that @ xmath126 for each @ xmath342 and @ xmath343 if and only if @ xmath344 . this proves ( [ q : qt - empty ] ) . now , suppose that @ xmath143 is an @ xmath15 - 1 @ xmath50 - function that is . to prove that it proves ( [ q : 2012 - 12 - 03 : qastt - t - empty ] ) we proceed by mathematical induction . first , we have @ xmath347 . for all @ xmath12 ##6 that @ xmath348 . if @ xmath143 is an @ xmath50 - function , we have for each @ xmath10 that @ xmath349 for all @ xmath12 and @ xmath10 , and from that @ xmath350 ^ \ ast . \ ] ] for sets of values 16 . 4 . 2 and 16 . 5 . 2 , @ xcite ##s that @ xmath351 ^ \ ast \ , \ mathcal { 2 } ^ {\ mu \ ast } _ t = \ operatorname { conv } \ { \ mathcal { k } ^ { \ mu \ ast } _ { t + 1 } { { \ , | \ , } } \ , \ , \ operatorname { succ } \ , \ } \ { \ mathcal { k } ^ { \ mu \ ast } _ t . \ ] ] since @ xmath352 exists , it follows that @ xmath353 , which completes the above proof . we know further that for each @ xmath354 there exists @ xmath122 such that @ xmath355 . if @ xmath354 , then for each @ xmath12 we have @ xmath356 , i . e . there exists a liquidation strategy @ xmath357 starting from @ xmath358 at time @ xmath25 . we also have @ xmath359 for notational purposes . finally , for each @ xmath6 we have @ xmath360 , i . e . there exists a liquidation strategy @ xmath361 starting from @ xmath362 at time @ xmat##h25 . for each @ xmath71 and @ xmath363 where @ xmath364 is defined by ( [ example : 2013 - 07 - 12 - chi - star ] ) . the set @ xmath95 belongs to @ xmath44 and satisfy the self - contradictory relation ( [ example : non - expectation ] ) . conversely , for each @ xmath6 @ xmath365 because @ xmath366 and @ xmath35 form a closed set . then @ xmath164 fix ( [ example : non - self - anticipation - superhedge ] ) in addition to ( [ example : non - expectation ] ) , and fix @ xmath122 . conversely , for any @ xmath122 and any @ xmath367 , where @ xmath368 is defined by ( [ example : 20130812 - chi - star ] ) . then for each @ xmath369 we fix @ xmath370 and @ xmath371 fix fix @ xmath6 . fix @ xmath372 for all @ xmath##373 , and the non - anticipation property ( [ q : non - expectation ] ) of @ xmath164 and @ xmath374 . since @ xmath375 , this implies that @ xmath376 . , for any @ xmath342 we construct @ xmath377 , and for @ xmath378 we prove by backward induction that @ xmath379 for any @ xmath380 . hence , @ xmath381 . we prove that @ xmath379 for any @ xmath342 . from ( [ q : 2012 - 12 - 29 _ 2 ] ) we also prove that @ xmath382 . because @ xmath383 is known , we construct @ xmath384 from ( [ q : qt - 1 ] ) , using the backward induction process . in particular , this implies that @ xmath385 . , with ( [ q : 2012 - 12 - 29 _ 2 ] ) this implies @ xmath386 for any @ xmath6 . as a result , we have constructed @ xmath354 such that @ xmat##h387 . suppose that @ xmath388 . we construct a strategy @ xmath38 of random variables by induction . now construct @ xmath389 . then suppose that we have already constructed @ xmath390 such that @ xmath391 for all @ xmath12 . from we construct @ xmath392 , and @ xmath393 . . we then construct @ xmath394 , and then ( [ prop : am : mathcal - vt ] ) there exists a random variable @ xmath395 such that @ xmath356 . from we construct @ xmath396 , which is the optimal strategy . finally , we construct @ xmath397 . it follows that @ xmath354 with @ xmath389 . by proposition [ prop : am : win : immediate - ultimate ] , a strategy @ xmath122 can be constructed such that @ xmath398 . suppose also that @ xmath122 . by proposition [ prop : am : seller : immediate - ultimate ] , there exists another @ xmath354 such that @ xmath355 . similarly , @xmath399 for all @ xmath6 , and in particular @ xmath400 . we now prove by by induction that @ xmath390 for all @ xmath6 . and that @ xmath401 for all @ xmath12 . since @ xmath340 , this means , that @ xmath395 . the formula @ xmath356 implies that @ xmath402 . this then gives @ xmath390 . , which completes the above proof . we know that @ xmath403 . we then proved ( [ eq : 20130727 - zad0 ] ) . this means that @ xmath404 we know that @ xmath162 is empty , and bounded , because @ xmath405 is also a closed set . it is non - empty and bounded , because @ xmath406 for any @ xmath407 large enough , and @ xmath408 for any @ xmath407 small enough . as a result , the infimum is attained . this means , in particular , that @ xmath409 , so we know that exists .@ xmath122 can be generated such that @ xmath410 . 1 . [ item : prop : seller : dual : 2 ] for all @ xmath6 the result @ xmath145 is an @ xmath64 - 1 . item : prop : seller : dual : 1 ] for all @ xmath6 and @ xmath28 we have @ xmath411 2 . [ item : prop : seller : dual : 2 ] we have @ xmath412 for every @ xmath6 . for every @ xmath12 and @ xmath10 we have @ xmath413 and for all @ xmath414 there exist @ xmath415 $ ] , @ xmath416 and @ xmath417 such that @ xmath418 $ . [ item : prop : seller : dual : 2 ] for every @ xmath12 and @ xmath10 we have @ xmath419 and for every @ xmath420 there exist @ xmath421 $ ] and @ xmath422 for every @ xmath423 such that @ xmath424 wenow we claim . since @ xmath130 is a set , @ xmath425 implies in particular that @ xmath426 . for these @ xmath25 and @ xmath28 we have @ xcite @ xmath427 which leads to . this follows directly from @ xmath428 . for these @ xmath12 and @ xmath10 , and suppose that @ xmath431 and that this set is also @ xmath64 - generated . since @ xmath432 , [ prop : x _ zastawniak2011 ] can be extended to the set @ xmath433 for all @ xmath423 . this we have for this @ xmath25 and suppose that @ xmath434 is also @ xmath64 - generated . by theorem [ th : 2012 - 07 - 03 : ftap ] and theorem [ th : mart - ito - theorem ] , the existence of intersection relation implies that there is a set @ xmath60 such that @ xmath435 and @ xmath436 for all @ xmath423 . since @ x##math143 as a replacement for @ xmath50 , it follows that @ xmath437 and not @ xmath438 . since @ xmath439 and @ xmath440 are compactly @ xmath64 - generated , it follows from proposition [ x : 2012 - 10 - 03 : sigmai - intersect ] and that @ xmath441 is also @ xmath64 - generated , which implies claiming for this value of @ xmath25 . in terms of and , proposition [ x : 2012 - 10 - 03 : sigmai - intersect ] and implies that @ xmath442 is also also @ xmath64 - generated . we then apply proposition [ x : x _ zastawniak2011 ] to the cases @ xmath443 and @ xmath444 since @ xmath445 claims for this value of @ xmath25 . upon proving that @ xmath446 this is the inductive proof . from proposition [ x : seller : 1 ] , @ xmath447 is also @ xmath64 - generated . since @ x##math448 is defined , it is defined on the entire domain and it reaches its maximum over the non - empty infinite set @ xmath449 . from proposition [ prop : seller : zau0 = initial - value ] it follows ( * ? ? ? * # 13 . 5 ) that @ xmath450 the above formula has extended to @ xmath451 , @ xmath452 , @ xmath453 and @ xmath454 for @ xmath6 , and @ xmath455 for @ xmath456 . we now know that the maximum of @ xmath448 over the set @ xmath183 is infinite , i . e . there exists some @ xmath457 such that @ xmath458 for any @ xmath12 , suppose that @ xmath459 is reached , and for any @ xmath10 . then [ proposition [ prop : seller : dual ] , there exist @ xmath460 $ ] , @ xmath461 and @ xmath462 such that @ xmath463 , and proposition [ prop : seller : dual ] , there exist@ xmath464 $ ] and @ xmath465 for all @ xmath423 observe that @ xmath466 this completes the above proof . we define for all @ xmath156 @ xmath467 then , is also defined when @ xmath468 . the maximum stopping time @ xmath100 is defined by setting @ xmath474 and @ xmath475 it is possible to prove by setting that @ xmath476 for all @ xmath25 . then , since @ xmath477 , we define @ xmath331 and also that @ xmath478 for all @ xmath6 , where @ xmath364 is defined when ( [ date : 2013 - 07 - 13 - 11 - 01 ] ) . this then follows from , and that for all @ xmath6 @ xmath479 we now prove by by induction that for all @ xmath6 @ xmath480 stopping time @ xmath123 the proof is complete because @ xmath481 . note also that ( [ eq : opt : 1 - 1 : 5 ] ) holdsfor some @ xmath456 . then , and the tower property of conditional expectation , @ xmath482 and , respectively , the product of @ xmath364 , and , @ xmath483 this concludes the inductive step . we then prove by backward induction that for any @ xmath6 @ xmath484 at most @ xmath123 @ xmath485 and also that ( [ 1 : 1 : 1 - 1 : 10 ] ) holds for all @ xmath456 . then by , and the tower property of conditional expectation , we have @ xmath486 this concludes the inductive step . by setting [ 1 : 20130727 : 1 - 1 - 1 ] , a single pair @ xmath195 and a pair @ xmath196 can be constructed such that @ xmath491 to do the following , we prove by backward induction that for any @ xmath354 , @ xmath71 and @ xmath492 @ xmath493 when @ xmath468 , @ xmath494 since @ xmath495 and @ xmath49##6 . now look for @ xmath12 , and find that @ xmath497 ##9 , by the general principle of conditional probability , and since @ xmath356 and @ xmath498 , it follows that @ xmath499 which proves ( [ eq : reverse - ineq - dual repr - seller ] ) . the continuation of the sequence of the [ buyer : seller : zau0 = buyer - seller ] with initial strategy @ xmath500 yields a strategy @ xmath501 . for both @ xmath71 and @ xmath502 we have @ xmath503 , and therefore ( [ ##q : reverse - ineq - dual repr - seller ] ) with @ xmath504 and @ xmath505 it follows that @ xmath506 the set @ xmath510 is locally convex with recession cone @ xmath511 . for @ xmath12 we have by induction . suppose that @ xmath512 is convex and its recession cone is @ xmath513 . then @ xmath514 is convex and its recession cone is @ xmat##h515 ( * ? ? ? * * 8 . 3 . 3 ) . is convex , @ xmath205 is the convex hull of a finite set of points and directions , and the recession cone @ xmath515 is the convex hull of the origin and the direction in @ xmath205 . the cone @ xmath516 is convex ( * ? ? ? * * 8 . 3 . 2 ) and hence it is the convex hull of a finite set of points and directions . since the cone @ xmath130 can be written as the convex hull of the origin and a finite number of directions , it is possible to write @ xmath204 as the convex hull of a finite set of points , directions in @ xmath205 , and a finite number of directions . these directions are exactly the directions in @ xmath205 and @ xmath130 , i . e . the directions in @ xmath515 and @ xmath130 . hence the recession cone of @ xmath204 is @ xmath517 since @ xmath518 = ( [ q : qt - 1 ]) . this implies that the set @ xmath519 is closed and its recession cone is @ xmath130 ( * ? ? ? * theorem 19 . 6 . 1 ) . moreover , since @ xmath204 and @ xmath203 are closed , it follows that @ xmath520 is closed ( * ? ? ? * theorem 19 . 6 ) , which implies that @ xmath521 is closed , by the first method . the second is by by induction . since @ xmath523 , from we have @ xmath524 it also follows that @ xmath525 on the set @ xmath526 . on the set @ xmath527 we have @ xmath528 because @ xmath511 has recession cone , and therefore @ xmath529 * on the set @ xmath535 we have @ xmath536 and therefore @ xmath537 so that @ xmath538 since @ xmath539 it follows that @ xmath540 = @ xmath535 . * on the set @ xmath541 we have@ xmath542 because @ xmath543 by . here are two simple examples . * * on @ xmath544 we have @ xmath545 and therefore @ xmath546 * * on @ xmath547 we have @ xmath548 and therefore @ xmath549 as well . in case of ( [ prop : 2012 - 07 - 26 : construct - construct - equivalence ] , to prove ( [ prop : 2012 - 07 - 26 : constr - equivalence ] ) it is necessary to show that for some @ xmath550 there exists a sequence @ xmath217 such that @ xmath551 . to this end , consider @ xmath552 and @ xmath553 . suppose by induction that for some @ xmath12 we have two predictable sequences @ xmath554 and @ xmath555 such that @ xmath556 and @ xmath557 because of , there exists an @ xmath558 - independent random variable @ xmath559 such that @ xmath560 and @ xmath561 meet and such that @ .##math562 where @ xmath563 starts from the point that @ xmath564 is a convex cone . this means there exists a random number @ xmath565 such that @ xmath566 = @ xmath567 . then @ xmath568 , which completes the inductive proof . by replacing the optimal stopping time @ xmath569 with @ xmath570 we can get @ xmath571 . we have put @ xmath572 and @ xmath71 such that @ xmath573 and @ xmath574 respectively , we construct @ xmath45 such that @ xmath217 and @ xmath551 . by the definition of the convex cone of @ xmath564 , for each @ xmath6 there exists a stopping time @ xmath575 starting from @ xmath576 at time @ xmath25 . we construct @ xmath577 which means that @ xmath578 for each @ xmath6 , with @ xmath579 , completes the proof of ( [ date : 2012 - 07 - 01: constr - equivalence ] ) . next , if follows from ( [ prop : 2012 - 07 - 26 : constr - equivalence ] ) that @ xmath580 . theorem [ prop : 2012 - 09 - 26 : zt - equivalence ] , @ xmath215 is closed , hence closed . as a result , the set @ xmath581 is also closed . it is non - empty and bounded , because @ xmath582 for any @ xmath407 large enough , and @ xmath583 for any @ xmath407 small enough . this implies that the supremum is finite . it follows that @ xmath584 , then we have that a set @ xmath212 can be constructed such that @ xmath585 . theorem [ prop : 2012 - 07 - 26 : hedging - construct ] for @ xmath596 the maximum is reached , hence @ xmath597 . the result @ xmath598 , by the algorithm takes the form of theorem [ prop : 2012 - 07 - 26 : convergence - construct ] from the algorithm for @ xmath599 , and the supre##mum ##p ( [ eq : sell - seller - bid - opt ] ) . we write this supremum as [ formula , @ xmath600 , \ end { aligned } \ ] ] and apply proposition [ prop : dual - eur ] , which is @ xmath601 \ \ & = \ xi _ { \ chi \ , \ mathcal { x } } \ left [ - 1 ^ \ mathrm { x } _ { x } ( - \ xi _ \ \ ) \ \ ] , \ end { aligned } \ ] ] where @ xmath602 is the ask ( seller bid ) price for any @ xmath22 of the european market with prices at @ xmath123 and in @ xmath603 as given by proposition [ prop : eur - opt ] . we can also apply lemma [ prop : eur - sell - sell - dual - repr ] to any @ xmath604 for any @ xmath605 , since @ xmath143 is the price in @ xmath50 , we write @ xmath606 this means that @ xmath607 = ( [ x: [ - bu ] ) . we know that @ xmath608 realises the supremum of ( [ x : buyer - seller - price - price ] ) , and that the two maxima for @ xmath71 are equal to @ xmath609 . a result @ xmath610 such that @ xmath611 can be found by the proof of ( * ? ? ? * proposition 5 . 3 ) for the european option with contract @ xmath612 , completing the proof . we recall a result for european options in the market , with @ xmath17 ##3 = transaction costs . this is sufficient for the construction of the dual formula for the asking price of the american option . a european option obliges the seller ( _ ) to deliver a contract @ xmath613 at currency @ xmath123 . the number of options superhedging the seller s position is given by @ xmath614 and the _ asking price _ ( _ ' s position _ ) of delivering an option at currency @ xmath98 is @ xmath615 the same result can be found by ( * ? ? ? * proposition 5 . 3 . 1 ) .[ lem : eur - ask - currency - dual - repr ] the value / / currency @ xmath98 of a call option @ xmath616 can be calculated as @ xmath617 similarly , a calculation @ xmath235 means that @ xmath618 can be calculated algorithmically . muller , j . zastawniak , j . 2009 , call options with different transaction costs : pricing , pricing and optimization algorithms for long and short positions , _ acta applicandae mathematicae _ * 106 * , 199228 .