one of the classical problems of algebra is the _ equivalence problem over a given algebraic structure . nowadays , many classical algebraic problems arise in a new perspective , namely to consider their computational complexity . in this paper we investigate the complexity of the equation solvability problem over finite groups and rings . the _ equation solvability problem _ over a finite group @ xmath0 asks whether or not two group expressions ( i . e . functions of variables and coefficients of @ xmath0 ) can attain the same function for some function over @ xmath0 . in other words , for the _ equivalence problem , one has to find if there is at least one substitution satisfying the equation . another important problem is whether or not _ all _ equations satisfy the equation . the _ equivalence problem _ over a finite group @ xmath0 asks whether or not two group expressions @ xmath1 and @ xmath2 are equivalent over @ xmath0 ( denoted by @ xmath3 ) , that is whether or not @ xmath1 and @ xmath2 determine the same function over @ xmath0 . first burris and lawrence @ xcite investigated the complexity of the equivalence problem over finite groups . they provedthat if the group @ xmath0 is contained in @ xmath4 , the dihedral group for group @ xmath5 , then the equivalence problem for @ xmath0 has polynomial time complexity . they proved that the equivalence problem for @ xmath0 is also polynomial time if @ xmath0 is solvable , and conp - complete # . horvth and szab @ xcite proved the conjecture for @ xmath6 , where @ xmath7 and @ xmath8 are abelian groups . that the subgroup of @ xmath7 is squarefree and @ xmath9 . then horvth @ xcite extended this conjecture to semidirect groups @ xmath10 , where @ xmath7 and @ xmath11 are abelian groups ( here @ xmath12 is the centralizer of @ xmath7 and @ xmath13 ) . horvth , wang , mrai and szab @ xcite proved the conp - complete ##ness of the conjecture . but the existence of the equivalence problem over free groups , though trivial , was not proved , either . .of the other groups , for which this result is not true , are @ xmath14 , @ xmath15 and the non - commutative groups of order @ xmath16 . see @ xcite for a more comprehensive list . even less is known about the equation equivalence problem . goldmann and russel @ xcite proved that if @ xmath0 is nilpotent , the equation solvability problem over @ xmath0 is solvable in polynomial time , while if @ xmath0 is not finite , then the equation equivalence problem is np - complete . little is known for solvable , not finite groups . horvth proved in ( * ? ? ? * - 2 ) that the equation solvability problem over @ xmath17 is true in polynomial time for about order @ xmath18 , where @ xmath19 or @ xmath20 , @ xmath21 and @ xmath13 are true . note that all results for both the group and the equation ##bility problem over finite , not nilpotent groups are of order @ xmath22 , where @ xmath23is abelian . one of the groups of small order , for which the equation solvability problem is solved , is the group @ xmath24 . here , @ xmath25 is the noncommutative subgroup of @ xmath26 upper unitriangular matrices over @ xmath27 . horvth explicitly shows in ( * ? ? ? * * 2 ) the details of the proof and the proof ##s over this group . the group @ xmath24 is isomorphic to a special case of the @ xmath28 upper triangular matrices over @ xmath29 . then in the construction of the notation from @ xcite , we call the group @ xmath22 a _ semipattern _ group , if @ xmath23 is a subgroup of the group of upper unitriangular matrices , and @ xmath13 is a subgroup of the diagonal matrices . we give the general definition of semipattern groups in section [ spcs ] . the main result of the proof is the following . [ fotetel ] the equation ##bility problem over semipattern groups is solved in polynomial time . the group @ xmath24 is in ( * ? ?? * * ( ) is in fact a semipattern group , so theorem [ fotetel ] answers horvth ##on ##3 directly . moreover , from theorem [ fotetel ] the equivalence problem over semipattern groups is solved in polynomial time , as well . indeed , it is known that for the group @ xmath17 if the equation solvability problem is solvable in polynomial time , then the equivalence problem is solvable in polynomial time , as well . in the proof of theorem [ fotetel ] we compare the solvability of the matrix equation for a finite group over a finite field to the solvability of a system of equations over the same field . then we extend the theorem to finite fields . therefore , we summarize the known results over rings . the _ equation solvability problem _ over a finite ring @ xmath30 asks whether or not two polynomials can determine the same function for some function over @ xmath30 . the _ equivalence problem _ over a finite ring @ xmath30 asks whether or not two polynomials are equivalent over @ xmath30 i . e . if they determine the same function over @ xmath30 . the complexity of these problems is well characterizedover the past two decades . hunt and stearnes @ xcite investigated the equivalence problem for finite commutative rings . later burris and lawrence @ xcite generalized their work to non - finite rings . they proved that the equivalence problem for @ xmath31 is solvable in polynomial time if @ xmath31 is finite , and is conp - complete otherwise . the work of burris and lawrence reduces the satisfiability ( equality ) problem to the equivalence problem by using infinite sequences of sequences of polynomials . nevertheless , if we turn this sequence into a sum of monomials then the length of the resulting polynomial will become exponential in the length of the original polynomial . such a change in the result implies that the solution of the equivalence problem may be faster if the input polynomials are restricted to polynomials written as sums of monomials . this led lawrence and willard @ xcite to define the _ sigma polynomial _ and _ sigma equation solvability problem _ , where the input polynomials are written as sums of monomials . lawrence and willard conjectured that if the length of the jacobson radical is finite then the polynomial equivalence problem is solved in polynomial time , and is conp - complete otherwise . szaband vrtesi proved the conp - 1 part of the conjecture in @ xcite . horvth confirmed the conjecture for all rings in @ xcite . the second part of this conjecture is also proved in the book @ xcite . many of the results for the [ sigma ] equation solvability problem follow from the corresponding result for the [ sigma ] equivalence problem . in particular , from the results of szab and vrtesi proved that if the multiplication by the jacobson factor is not commutative then the sigma equation equivalence problem is np - complete . horvth , lawrence and willard @ xcite proved that if this factor is finite then the sigma equation equivalence problem is solvable in polynomial time . however , the sigma equation solvability problem is well characterized . for the equation equivalence problem , arguments of burris and lawrence from @ xcite yield that if the factor is not finite then the problem is np - complete . horvth from @ xcite proved that the equation equivalence problem is solvable in polynomial time otherwise . [ nr ] if @ xmath30 is a finite , complete ring then the equation equivalence problem over@ xmath30 is solvable in polynomial time . horvth uses ramsey s ##â‚™ in the proof of theorem [ nr ] . he defines a number @ xmath32 that depends only on the ring @ xmath31 . then he proves that the size of every point can be determined by dividing @ xmath33 into all but @ xmath32 - 1 variables . then one can decide whether or not @ xmath34 is contained in @ xmath31 in @ xmath35 times . however , this number @ xmath36 is smaller than the center of the ring . in fact , @ xmath32 is smaller than @ xmath37 , where the height of the tower is the height is the nilpotency index of @ xmath31 . horvth specifically asks : ( * ? ? * problem 2 ) whether or not this number @ xmath32 can be computed . in the second part of the paper we have a complete proof of theorem [ nr ] . our algorithm is much more efficient than horvth says . compute @ xcite ##s matrix rings with the help of special cases of the matrix ring . wecan solve the equation solvability problem over these special matrix rings similarly as we do over semipattern groups in section [ fotetel ] . in particular , we show that over a matrix ring @ xmath31 we can decide in @ xmath38 , whether or not @ xmath34 is solvable , thus giving a unique solution to problem 3 of @ xcite , as well . we show that in a completely independent way , krolyi and szab ##ka found a way to determine the exponent @ xmath32 of @ xcite . in section [ bev ] we discuss the results , definitions and applications , that we presented in the paper . in particular , in section [ spcs ] we discuss the definition of pattern groups , and we define semipattern groups . in section [ 2 . 2 ] we discuss the generalization of the # ##bility problem over rings for groups of matrices . we are able to apply these results in order to prove theorems [ fotetel ] and [ nr ] . in section [ nil ] we lay the foundations for the proof of theorem [ nr ] . in section we prove theorem [ fotetel ] . we usegive of this proof in section [ nr . ] , where we have theorem [ nr ] . let @ xmath39 denote the finite field of @ xmath40 elements . let us call the group @ xmath41 of @ xmath42 upper triangular matrices , that is those matrices whose elements under the diagonal are zero and the elements in the diagonal are non - zero : @ xmath43 . the group operation is the matrix multiplication . let the @ xmath42 identity matrix denote by @ xmath44 . let @ xmath45 denote the @ xmath42 matrix whose elements are all zero except for the @ xmath46 element in the @ xmath47 matrix , which is zero . let @ xmath48 . let @ xmath49 thus , @ xmath50 denote by those upper triangular matrices , where every element in the diagonal is @ xmath51 , and every element whose position is not contained in it has to be @ xmath52 . if @ xmath50 is a subgroup of @ xmath41 , then we call @ xmath50 a _ p _ group . for more details on these groups , see e . g . @ xcite .let @ xmath53 be subgroup of @ xmath54 and let @ xmath55 be the group of @ xmath42 matrices from @ xmath39 whose @ xmath47 element of the group is from @ xmath56 @ xmath57 : @ xmath58 if @ xmath50 is a finite group then @ xmath59 is a subgroup of @ xmath41 . then we call @ xmath59 a _ semipattern group _ and we denote such a subgroup by @ xmath60 . finally , we say that @ xmath61 and @ xmath62 . the group @ xmath24 used in ( * ? ? ? * problem 2 ) is in fact a semipattern group : @ xmath63 let @ xmath64 be a simple , unital ring , @ xmath65 @ xmath66 be subgroup of @ xmath64 . for the integers @ xmath67 , let @ xmath68 , @ xmath69 , @ xmath70 , @ xmath71 be pairwise .sets of equations . we know that _ @ xmath72 is valid over @ xmath64 for example from @ xmath73 _ ( and write @ xmath74 @ xmath75 is ##vable over @ xmath31 ) if there exist @ xmath76 , @ xmath77 , @ xmath78 , @ xmath79 note that the following polynomials have the same degree with this substitution : @ xmath80 for proving theorem [ fotetel ] , we will first use the following result of horvth @ xcite . [ egyrszmo ] let @ xmath39 be a finite polynomial . let @ xmath81 be part of @ xmath54 . let @ xmath82 $ ] be a polynomial , written as a product of monomials . then it can be shown whether the solution of _ @ xmath83 is solvable over @ xmath39 in @ xmath84 time . to prove theorem [ nr ] we are going to use the result from @ xcite . [ nr ] [ @ xmath85 $ ] two polynomials , written astheory of monomials . thus it can be decided whether the system of equations @ xmath86 is true over @ xmath87 or @ xmath88 time . the complexity of the equation solution problem over finite nilpotent rings is 1 . horvth @ xcite proved that the equation solvability problem is solved in polynomial time . we give a new algorithm in theorem [ 3 . ] that is much more efficient than horvth proved . in this part we show that we can characterize the solution of the equation solvability problem over matrix rings by the same equation solution problem over any ring of nilpotent matrix rings . then we can apply the same algorithm that we used in the proof of theorem [ fotetel ] . horvth proved theorem [ nr ] using ramsey s theory . he found a polynomial @ xmath32 that depends only on the ring @ xmath31 . then he proved that the image of every polynomial can be found by substituting @ xmath52 into all but @ xmath32 - th variables . then we can decide whether or not @ xmath34 is true over @ xmath##31 = @ xmath89 ##3 . but the polynomial @ xmath36 is huge for the height of the tower . let @ xmath90 be the class of @ xmath31 and @ xmath91 be the nilpotency class of @ xmath31 . and furthermore @ xmath92 . then @ xmath32 is greater than @ xmath93 , where the height of the tower and the exponent is @ xmath91 . we give a simple proof of theorem [ nr ] in theorem [ nr . ] . our proof is much more efficient than horvth s . we show that @ xmath94 + is enough . finally , we show that we can handle the equation solution problem over real rings using the sigma equation solvability problem over special classes of real matrix rings . if @ xmath31 is a matrix , then the complexity of the _ general _ equation solvability problem over @ xmath31 is the same as the complexity of the _ sigma _ equation problem over @ xmath31 . indeed , we can rewrite the polynomial @ xmath95consider @ xmath31 as a sum of monomials in @ xmath96 time , where @ xmath91 is the nilpotency characteristic of @ xmath31 . now , @ xmath97 . then , at the cost of an extra @ xmath98 factor in the exponent , we may assume that every input polynomial is expressed as a sum of monomials . then it is convenient to consider the equation ##bility problem for nilpotent rings with prime power characteristic , because every ring is a direct sum of rings of prime power characteristic , and the equation # problem can be solved componentwise . then @ xcite characterizes all local rings with prime power characteristic . [ wil ] let @ xmath31 be a finite local ring with ideal @ xmath99 , and let @ xmath31 have an ideal generating set consisting of @ xmath100 matrices over @ xmath101 . then @ xmath31 is a homomorphic extension of the ring @ xmath102 of matrices over @ xmath101 where every matrix on or near the main diagonal is a generator of @ xmath##103 . in general for polynomial rings it is enough to consider the equation solution problem over such a polynomial as @ xmath104 , since if the equation solvability problem is solvable in polynomial time for @ xmath104 , then it is solved in polynomial time for some in @ xmath105 , as well . indeed , let @ xmath106 be any polynomial over @ xmath107 and @ xmath95 be any polynomial over @ xmath104 whose derivative over @ xmath108 is @ xmath106 . then @ xmath109 is solvable over @ xmath107 if and only if @ xmath110 is solvable over @ xmath104 for some @ xmath111 . this gives an extra @ xmath112 factor to the polynomial time . thus , @ xmath113 , and we have @ xmath114 , @ xmath115 . similarly , @ xmath116 , which also depends on @ xmath31 , and thus can be asked about . thus it is enough to consider the sigma problem .example 1 is the matrix ring of matrices from @ xmath87 where the number above or below the upper limit of each matrix is a multiple of @ xmath103 . we can study such matrix rings similarly as we do with the semmipattern groups . hence we can use parts of the proof given in section [ 2 . ] . we give a simple , efficient algorithm that decides the equation solvability problem over such matrix rings in section [ 3 . ] . in this section we consider the equation decision problem over semmipattern groups . first we study the ring of matrices from @ xmath41 in section [ mxszor ] . we use this formula in our proof . [ mxszor ] let n be a real number . for every @ xmath117 + @ xmath118 = @ xmath119 then * for every @ xmath120 we have @ xmath121 * for every @ xmath122 we have + @ xmath123 the length of is @ xmath124 , and in particular is polynomial in @ xmath125 . the lemma can be proved by induction on @xmath125 . however , instead of using the above mathematical proof , we explain how one can arrive at this result . let us consider the @ xmath46 element of the @ xmath47 matrix @ xmath126 of the matrix @ xmath127 @ xmath128 . we can express this matrix @ xmath126 with the indices of the appropriate products . for every such product we have an entry from the matrix @ xmath129 @ xmath130 . ( in the notation the term @ xmath131 appears as the last term . ) furthermore the index of the row of a term must coincide with the index of the row of the first term of every such product . ( therefore a term of the form @ xmath132 or @ xmath133 is the term of the form @ xmath132 or @ xmath134 . ) the row index of the first term is @ xmath135 , the column index of the last term is @ xmath136 . the matrices @ xmath137 are right triangular matrices , hence the row index of each term of every term is less than or equal to thecolumn index . ( thus for a term of the form @ xmath133 , that is above the diagonal , we have @ xmath138 . ) thus the @ xmath46 term of the @ xmath47 row @ xmath126 of the form @ xmath139 is the product of products of @ xmath125 terms such that * the column index of the first term is @ xmath135 , the column index of the last term is @ xmath136 ; * the column index of every term corresponds to the column index of the next term ; * the column index of every term is at most the column index of the next term . note , that the @ xmath125 - term product is uniquely determined by those terms where the row index differs from the column index . let two consecutive consecutive terms of the form be @ xmath140 and @ xmath141 . ( then @ xmath142 and @ xmath143 . ) the product of the terms between these consecutive terms have row and column indices @ xmath144 and their sum term is more than @ xmath145 and less than @ xmath14##6 . thus , the terms @ xmath140 and @ xmath141 can only be the same @ xmath147 . the theorem is true . now , we calculate the length of formula . formula is the sum of terms . the length of the formula is @ xmath125 , so we need to determine the number of products . note , that every term is uniquely determined by the selected indices of the terms . more precisely we need to determine the column index of the first @ xmath148 term , because the column index of the last term is @ xmath136 . we can choose these terms from the set @ xmath149 . the length of the selected indices does not matter . we only need to determine how many terms are equal to @ xmath135 , to @ xmath150 , etc , or to @ xmath151 . thus we need to choose @ xmath148 element from the set of @ xmath152 terms so that repetitions are allowed . hence the number of products is @ xmath153 since every term has length @ xmath125 , the length of @ xmath126 is @ xmat##h154 . the order of @ xmath126 is at most @ xmath155 for all n @ xmath156 . let @ xmath60 be a semipattern group . let @ xmath157 be a constant in @ xmath60 . thus @ xmath158 can indicate a constant or a variable in @ xmath60 @ xmath159 . of course @ xmath158 and @ xmath160 can indicate the same constant or variable . let @ xmath161 if @ xmath162 is constant then @ xmath163 is a constant in @ xmath164 and @ xmath165 is a constant in @ xmath39 @ xmath166 . if @ xmath162 is a variable , then @ xmath163 is a constant , that we can substitute from @ xmath56 , and @ xmath165 is a constant that we can substitute from @ xmath39 . let @ xmath167 if and only if @ xmath168 ( for example @ xmath169 ) and @ xmath17##0 for example @ xmath122 . we can replace the polynomial @ xmath171 with this matrix : @ xmath172 after computing these equations using the [ mxszor ] we obtain @ xmath173 where @ xmath174 the polynomial @ xmath171 can obtain the identity matrix for this substitution if and only if @ xmath175 reaches @ xmath51 ( @ xmath176 ) and @ xmath177 reaches @ xmath52 for the same substitution ( @ xmath122 ) . then @ xmath178 is valid over @ xmath60 if and only if the system of equations @ xmath179 is solvable over @ xmath39 . this is a system of equations over @ xmath39 where the polynomials are written as sums of monomials . thus we can prove the solvability of this system of equations in polynomial time by using [ egyrszmo ] . the transformation of @ xmath171 over @ xmath60 into the system of equations @ xmath180 over @ xmath39 can be done .@ xmath124 . by theorem [ mxszor ] , and the solution of this equation is @ xmath181 . the number of solutions is @ xmath182 , which does not depend on @ xmath125 , but on the group @ xmath60 . by theorem [ egyrszmo ] one can decide whether this equation has a solution in @ xmath183 time . let @ xmath104 denote the ring of @ xmath184 matrices over @ xmath87 where every point in or on the upper half of a matrix in @ xmath104 is a point of @ xmath103 . let @ xmath171 denote a polynomial in @ xmath104 , as a product of monomials . let @ xmath185 denote a monomial in the ring . let @ xmath186 if @ xmath187 is constant then @ xmath188 are constants in @ xmath87 . if @ xmath187 is a variable , then @ xmath188 are polynomials , that we can compute from @ xmath87 . let, @ xmath167 if and only if @ xmath189 and @ xmath190 for all @ xmath191 . thus @ xmath195 is a matrix defined as a product of monomials and @ xmath101 . for every such monomial we have one term from the form @ xmath158 @ xmath196 . thus the characteristic of every monomial is @ xmath125 . there are at most @ xmath197 monomials in the matrix @ xmath195 according to the above definition of terms . second , every nonzero monomial contains at most @ xmath198 terms from on to below the main diagonal , since the characteristic of @ xmath101 is @ xmath99 . thus every nonzero monomial is of the form @ xmath199 where @ xmath200 and @ xmath201 . note that @ xmath202 exists as well . third , every term @ xmath203 comes from below the main diagonal , hence @ xmath204 . hence @ xmath205 and hence @xmath206 . thus @ xmath207 . then the sum of every nonzero monomial is at most @ xmath208 . in particular , if @ xmath209 then the monomial of @ xmath195 is @ xmath52 . then there are at most @ xmath210 monomials in the polynomial @ xmath195 and in @ xmath211 . the input polynomial @ xmath171 is the sum of at most @ xmath212 monomials @ xmath213 . if @ xmath214 then @ xmath215 is the sum of at most @ xmath212 - many polynomials @ xmath195 for every @ xmath216 . thus @ xmath217 , as @ xmath218 and @ xmath100 depend only on the polynomial @ xmath31 . the polynomial @ xmath171 can have the same value for every substitution if and only if @ xmath215 is zero for the same substitution for every @ xmath219 . thus @ xmath220 is solvable .@ xmath104 if and only if the system of equations @ xmath221 is defined over @ xmath101 . this is a system of equations over @ xmath222 where the coefficients are given as sums of monomials . then we can decide the solution of this system of equations in polynomial time by theorem [ er ] . the decomposition of @ xmath171 and @ xmath104 into the system of equations @ xmath223 can be done in @ xmath224 time , and @ xmath225 . the number of solutions is @ xmath226 , which does not depend on @ xmath212 , only on the solution @ xmath104 . by theorem [ er ] one can determine whether this problem has a solution in @ xmath227 time . now , we see how this theorem can be applied to determine if an equation @ xmath34 is defined over an _ r _ nilpotent ring @ xmath31 of equations @ xmath228 . let @ xmath104 be the polynomial ring defined by theorem [ wil ] , and let @ xmath22##9 . then , let @ xmath171 denote the polynomial in @ xmath104 corresponding to @ xmath95 . note , that @ xmath230 is the characteristic of @ xmath31 . theorem [ wil ] , therefore @ xmath231 . therefore @ xmath232 and @ xmath233 . therefore @ xmath234 . thus , one can decide if @ xmath235 is polynomial over @ xmath236 in @ xmath237 time . similarly , one can decide if the polynomial @ xmath34 is solvable over @ xmath31 in @ xmath238 time . therefore , @ xmath239 , which also depends on @ xmath31 . thus , if @ xmath95 is defined by a _ set of monomials _ , then @ xmath240 , and one can decide @ xmath241 is an arbitrary homogeneous polynomial @ xmath31 in @ xmath242 time , as defined . if , however , @ xmath95 is an arbitrary polynomial over @ xmath31 , then by definition .as a function of monomials we have @ xmath243 , with an extra @ xmath244 factor in the solution . thus , we can decide @ xmath241 for an arbitrary polynomial and @ xmath31 in @ xmath245 time . mikael goldmann and alexander russell . the complexity of solving problems in finite groups . in _ proceedings of the 10th annual ieee conference on computational complexity _ , ieee 8086 , atlanta , georgia , 1999 .