one of the fundamental problems of mathematics is the equation equivalence problem over a finite algebraic group . however , many finite algebraic groups arise in a different way , namely to determine their computational complexity . in this article we study the complexity of the equation equivalence problem over finite groups and rings . the _ equation equivalence problem _ over a finite group @ xmath0 asks whether or not two group expressions ( i . e . functions of x and functions of @ xmath0 ) can determine the same value for their value over @ xmath0 . in other words , for the _ equivalence problem , one has to ask if there is at least one substitution in the equation . another important question is whether or not _ the _ variables satisfy the equation . the _ equivalence problem _ over a finite group @ xmath0 asks whether or not two group expressions @ xmath1 and @ xmath2 are equivalent over @ xmath0 ( given by @ xmath3 ) , that is whether or not @ xmath1 and @ xmath2 have the same value over @ xmath0 . @ burris and then @ xcite ##d the complexity of the equivalence problem over finite groups . they studiedthat if the group @ xmath0 is odd and @ xmath4 , the dihedral group for , @ xmath5 , then the equivalence problem for @ xmath0 has polynomial time resolution . they proved that the equivalence problem for @ xmath0 is also polynomial time if @ xmath0 is even , and conp - complete if . horvth and szab @ xcite proved the conjecture for @ xmath6 , where @ xmath7 and @ xmath8 are abelian groups . that the subgroup of @ xmath7 is squarefree and @ xmath9 . later horvth @ xcite extended this conjecture to semidirect ##ible @ xmath10 , where @ xmath7 and @ xmath11 are abelian groups ( and @ xmath12 is the centralizer of @ xmath7 and @ xmath13 ) . horvth , wang , mrai and szab @ xcite proved the conp - complete ##ness of the conjecture . that the resolution of the equivalence problem for finite groups , and infinite groups is not complete , . . .of the finite groups , for which this result is not known , are @ xmath14 , @ xmath15 and the non - finite group of groups @ xmath16 . see @ xcite for a more complete list . much more is known about the equation equivalence problem . goldmann and russel @ xcite proved that if @ xmath0 is finite , the equation equivalence problem over @ xmath0 is solved in polynomial time , and if @ xmath0 is not finite , then the equation equivalence problem is np - complete . nothing is known for finite , not finite groups . horvth proved in ( * ? ? ? * - ? ) that the equation equivalence problem over @ xmath17 is solved in polynomial time for finite groups @ xmath18 , where @ xmath19 , @ xmath20 , @ xmath21 and @ xmath13 are finite . note that the results for both the group and the equation equivalence problem over finite , not finite groups are for groups @ xmath22 , where @ xmath23is abelian . one of the groups of finite order , for which the equation existence problem is solved , is the group @ xmath24 . here , @ xmath25 is the noncommutative subgroup of @ xmath26 upper unitriangular matrices over @ xmath27 . horvth ##off ##line for ( * ? ? ? * - 1 ) the solution of the equation and equation existence problems for this group . the group @ xmath24 is equivalent to a finite subgroup of the @ xmath28 upper diagonal matrices over @ xmath29 . then using the definition of the group from @ xcite , we call the group @ xmath22 a _ semipattern _ group , if @ xmath23 is a subgroup of the group of upper unitriangular matrices , and @ xmath13 is a subgroup of the diagonal matrices . we give the general definition of semipattern groups in the [ spcs ] . the first part of the proof is the following . [ fotetel ] the equation existence problem for semipattern groups is solved in polynomial time . the group @ xmath24 is a ( * ? ?? * ( 2 ) is in fact a semipattern group , so theorem [ fotetel ] answers horvth ##on question 1 . moreover , from theorem [ fotetel ] the equivalence problem for semipattern groups is solved in polynomial time , as well . moreover , it is known that for every ring @ xmath17 if the original equivalence problem is solved in polynomial time , then the equivalence problem is solved in polynomial time , as well . in the case of theorem [ fotetel ] we compare the complexity of the polynomial equations for a finite system over a finite field to the complexity of a system of equations over the same field . then we compare the results over different fields . finally , we compare the two results over fields . the _ equation equivalence problem _ over a finite ring @ xmath30 asks whether or not two polynomials can attain the same function for every polynomial over @ xmath30 . the _ equivalence problem _ over a finite ring @ xmath30 asks whether or not two polynomials are equivalent over @ xmath30 i . e . if they attain the same function over @ xmath30 . the study of these questions was long neglectedover the next few years . lawrence and stearnes @ xcite solved the equivalence problem for finite simple rings . later burris and lawrence @ xcite extended their proof to non - finite rings . they proved that the equivalence problem for @ xmath31 is solved in polynomial time if @ xmath31 is finite , and is conp - complete otherwise . the proof of burris and lawrence extends the satisfiability ( s ) problem to the equivalence problem by introducing infinite sums of sums of polynomials . however , if we turn this sum into a sum of monomials , the length of the resulting polynomial will be exponential in the length of the input polynomial . such a reduction in the proof suggests that the solution of the equivalence problem may be faster if the input polynomials are allowed to be written as sums of monomials . this led lawrence and willard @ xcite to introduce the _ sigma polynomial _ and _ sigma polynomial _ _ _ , where the input polynomials are written as sums of monomials . lawrence and willard proved that if the definition of the jacobson polynomial is correct then the sigma equivalence problem is solved in polynomial time , and is conp - complete otherwise . szaband vrtesi proved the conp - # ##ness of the problem in @ xcite . horvth proved the conjecture for polynomial rings in @ xcite . the second version of this conjecture is also proved in the book @ xcite . most of the arguments for the [ general ] equation equivalence problem follow from the same argument for the [ sigma ] equivalence problem . in particular , from the arguments of szab and vrtesi proved that if the factor of the jacobson identity is not rational then the sigma equation equivalence problem is np - complete . horvth , lewis and from @ xcite proved that if this factor is rational then the sigma equation equivalence problem is solved in polynomial time . thus , the sigma equation equivalence problem is easily proved . for the general equation equivalence , those of burris and lewis from @ xcite proved that if the ring is not regular then the problem is np - complete . horvth from @ xcite proved that the equation equivalence problem is solved in polynomial time . . [ nr ] if @ xmath30 is a regular , polynomial ring then the equation equivalence problem .@ xmath30 is solved in polynomial time . horvth follows ramsey and wilson in the proof of theorem [ nr ] . he gives a number @ xmath32 that depends only on the number @ xmath31 . then he shows that the degree of the tower can be determined by dividing @ xmath33 into all the @ xmath32 - 1 parts . then we can determine whether or not @ xmath34 is superior to @ xmath31 and @ xmath35 alone . however , this number @ xmath36 is correct for the size of the tower . in fact , @ xmath32 is better than @ xmath37 , where the height of the tower and the diameter is the nilpotency factor of @ xmath31 . horvth then shows by ( * ? ? * - 2 ) whether or not this number @ xmath32 can be solved . in the second part of the paper we give a complete proof of theorem [ nr ] . our proof is much more precise than horvth vs . ramsey @ xcite ##s for example with the help of a study of the number theory . wewe solve the equation existence problem over these large matrix rings , as we did over semipattern groups by theorem [ fotetel ] . in particular , we note that for a large matrix @ xmath31 we can decide in @ xmath38 , whether or not @ xmath34 is correct , thus giving a correct solution to problems posed in @ xcite , as well . we note that in a completely different paper , krolyi and szab ##ka found a way to compute the solution @ xmath32 of @ xcite . in section [ bev ] we discuss the results , results and applications , that we presented in the paper . in particular , in section [ spcs ] we discuss the definition of matrix groups , and we discuss semipattern groups . in section [ 2 . 2 ] we discuss the definition of the equation existence problem over rings for groups of integers . we are going to use these results in order to prove theorem [ fotetel ] and [ nr ] . in section [ 2 ] we lay the foundation for the proof of theorem [ nr ] . in section we prove theorem [ fotetel ] . we .more of this is in article [ nr . ] , where we say that [ nr ] . let @ xmath39 denote the number group of @ xmath40 matrices . let us call the group @ xmath41 of @ xmath42 upper triangular matrices , that is those matrices whose elements in the diagonal are zero and the elements in the diagonal are non - zero : @ xmath43 . the group operation is the matrix multiplication . let the @ xmath42 matrix be represented by @ xmath44 . let @ xmath45 be the @ xmath42 matrix whose elements are all zero except for the @ xmath46 element in the @ xmath47 matrix , which is zero . then @ xmath48 . then @ xmath49 . , @ xmath50 . only those upper triangular matrices , where every element in the diagonal is @ xmath51 , and every matrix whose element is not zero in it has to be @ xmath52 . if @ xmath50 is a subgroup of @ xmath41 , then we call @ xmath50 the _ n _ group . for more information about these groups , see e . g . @ xcite .let @ xmath53 be elements of @ xmath54 and let @ xmath55 be the group of @ xmath42 modules of @ xmath39 whose @ xmath47 element of the group is from @ xmath56 @ xmath57 : @ xmath58 if @ xmath50 is a subgroup , then @ xmath59 is a subgroup of @ xmath41 . then we call @ xmath59 a _ semipattern group _ and we denote such a group by @ xmath60 . similarly , we say that @ xmath61 and @ xmath62 . the group @ xmath24 is in ( * ? ? ? * ^ 2 ) is in fact a semipattern group : @ xmath63 let @ xmath64 be a simple , unital group , @ xmath65 @ xmath66 be elements of @ xmath64 . for the integers @ xmath67 , let @ xmath68 , @ xmath69 , @ xmath70 , @ xmath71 be pairwise .system of equations . we say that _ @ xmath72 is true over @ xmath64 for example from @ xmath73 _ ( and _ @ xmath74 @ xmath75 is true over @ xmath31 ) if there exists @ xmath76 , @ xmath77 , @ xmath78 , @ xmath79 such that the following equations have the following form with this result : @ xmath80 for proving theorem [ fotetel ] , we will first use the substitution method of horvth @ xcite . [ egyrszmo ] let @ xmath39 be a finite number . let @ xmath81 be part of @ xmath54 . [ @ xmath82 $ ] be a polynomial , written as a product of monomials . then it will be determined whether the system of equations @ xmath83 is true over @ xmath39 in @ xmath84 $ . to prove theorem [ nr ] we are going to use the result from @ xcite . [ nr ] [ @ xmath85 $ ] are polynomials , written asset of monomials . then it can be determined whether the system of equations @ xmath86 is true over @ xmath87 and @ xmath88 ##8 . the complexity of the equation decision problem over finite matrix rings is 1 . horvth @ xcite proved that the equation decision problem is solved in polynomial time . we introduce a new algorithm in section [ nr . ] that is much more efficient than horvth algorithm . in this way we prove that we can determine the complexity of the equation decision problem over matrix rings and the linear equation decision problem over special cases of finite matrix rings . then we can use the same algorithm that we used in the proof of theorem [ fotetel ] . horvth proved section [ nr ] in ramsey number theory . he found a polynomial @ xmath32 that depends only on the degree @ xmath31 . then he proved that the degree of a polynomial can be determined by dividing @ xmath52 into all the @ xmath32 - degree polynomials . then we can determine whether or not @ xmath34 is true over @ xmath##31 # @ xmath89 ##3 . then the polynomial @ xmath36 is prime and the size of the tower . let @ xmath90 be the characteristic of @ xmath31 and @ xmath91 be the nilpotency class of @ xmath31 . then # @ xmath92 . then @ xmath32 is larger than @ xmath93 , where the size of the tower and the characteristic of @ xmath91 . we give a simple proof of theorem [ nr ] in theorem [ nr . ] . our proof is much more efficient than horvth ##on . we show that @ xmath94 + is prime . finally , we show that we can solve the general solution problem over matrix rings and the sigma equation solution problem over all classes of real matrix rings . if @ xmath31 is a matrix ring , the complexity of the _ sigma _ equation solution problem over @ xmath31 is the same as the complexity of the _ sigma _ equation problem over @ xmath31 . finally , we can solve the problem @ xmath95consider @ xmath31 as a sum of monomials in @ xmath96 ##1 , where @ xmath91 is the nilpotency characteristic of @ xmath31 . then , @ xmath97 . then , at the cost of an extra @ xmath98 factor in the product , we can show that the characteristic polynomial is generated by a sum of monomials . then it is possible to solve the equation solution problem over all rings with prime power characteristic , because every ring is a direct product of rings of prime power characteristic , and the equation solution problem can be solved componentwise . consider @ xcite over all simple rings with prime power characteristic . [ wil ] let @ xmath31 be a simple local ring with ideal @ xmath99 , and let @ xmath31 be an ideal ##ized ##e consisting of @ xmath100 matrices in @ xmath101 . then @ xmath31 is the homomorphic form of the product @ xmath102 of matrices in @ xmath101 where every factor above and below the main diagonal is a factor of @ xmath##103 . in solving for polynomial time it is necessary to consider the factor ##bility , for such a polynomial over @ xmath104 , since if the sigma equation problem is solved in polynomial time for @ xmath104 , then it is solved in polynomial time for some over @ xmath105 , as well . now , let @ xmath106 be any polynomial over @ xmath107 and @ xmath95 be any polynomial over @ xmath104 whose coefficient of @ xmath108 is @ xmath106 . then @ xmath109 is polynomial over @ xmath107 if and only if @ xmath110 is polynomial over @ xmath104 for some @ xmath111 . this adds an additional @ xmath112 factor to the polynomial of . thus , @ xmath113 , and we have @ xmath114 , @ xmath115 . similarly , @ xmath116 , which also depends on @ xmath31 , and , can be asked for . thus it is enough to consider the sigma equation .example 1 is a matrix multiplication of matrices from @ xmath87 where every element above or below the upper limit of the multiplication is a element of @ xmath103 . we then compute the matrix multiplication exactly as we do with the semmipattern groups . then we can use parts of the algorithm given in section [ 2 . ] . we have a simple , efficient algorithm that solved the equation solution problem for the matrix rings in section [ 2 . ] . in this way we solve the equation solution problem for semmipattern groups . then we compute the multiplication of matrices from @ xmath41 in section [ mxszor ] . we use this result in our proof . [ mxszor ] let x be a real number . for every @ xmath117 let @ xmath118 let @ xmath119 * * for every @ xmath120 we have @ xmath121 * for every @ xmath122 we have + @ xmath123 the inverse of is @ xmath124 , and in particular is contained in @ xmath125 . the theorem can be proved by induction . @xmath125 . now , instead of using the above general formula , we see how we can arrive at this result . let us take the @ xmath46 element of the @ xmath47 matrix @ xmath126 of the matrix @ xmath127 @ xmath128 . we can replace this matrix @ xmath126 with a product of all possible products . for each possible product we have one term from the matrix @ xmath129 @ xmath130 . ( in the case the term @ xmath131 serves as the last term . ) then the index of the row of each term must agree with the index of the row of the last term of each possible product . ( so the term of the form @ xmath132 or @ xmath133 is the term of the form @ xmath132 or @ xmath134 . ) the row index of the first term is @ xmath135 , the row index of the second term is @ xmath136 . the matrices @ xmath137 are all triangular matrices , and the row index of the row of each term is less than or equal to thecolumn index . ( if for a term of the matrix @ xmath133 , that is , the identity , we have @ xmath138 . ) then the @ xmath46 element of the @ xmath47 element @ xmath126 of the matrix @ xmath139 is the product of terms of @ xmath125 terms such that * the column index of the next term is @ xmath135 , the column index of the next term is @ xmath136 ; * the row index of a term corresponds to the column index of the next term ; * the column index of a term is at most the column index of the next term . note , that the @ xmath125 - column index is uniquely determined by those terms where the row index differs from the column index . for two the two terms of the product are @ xmath140 and @ xmath141 . ( respectively @ xmath142 and @ xmath143 . ) the terms of the terms of these two terms have row and column indices @ xmath144 and their corresponding term is greater than @ xmath145 and less than @ xmath14##6 . difference of the products @ xmath140 and @ xmath141 can also be the difference @ xmath147 . so it is true . now , we calculate the result of this . formula ##te the number of terms . the length of the term is @ xmath125 , so we need to determine the number of terms . note , that the length is also determined by the column indices of the terms . more precisely we need to determine the column index of the first @ xmath148 term , because the column index of the first term is @ xmath136 . we can choose these terms from the set @ xmath149 . the length of the first term does not matter . we only need to determine how many terms are assigned to @ xmath135 , to @ xmath150 , etc , and to @ xmath151 . thus we need to choose @ xmath148 elements from the set of @ xmath152 , so that they are allowed . thus the number of terms is @ xmath153 since every term has length @ xmath125 , the length of @ xmath126 is @ xmat##h154 . the order of @ xmath126 is at most @ xmath155 for every n @ xmath156 . let @ xmath60 be a semipattern over . let @ xmath157 be a constant over @ xmath60 . # @ xmath158 can indicate a polynomial or a constant over @ xmath60 @ xmath159 . of course @ xmath158 and @ xmath160 can indicate the same variable or polynomial . # @ xmath161 if @ xmath162 is constant then @ xmath163 is a constant over @ xmath164 and @ xmath165 is a constant over @ xmath39 @ xmath166 . if @ xmath162 is a constant , then @ xmath163 is a constant , that we can substitute from @ xmath56 , and @ xmath165 is a constant that we can substitute from @ xmath39 . let @ xmath167 if and only if @ xmath168 ( for n @ xmath169 ) and @ xmath17##0 for example @ xmath122 . we can write the polynomial @ xmath171 with this matrix as @ xmath172 . combining these by the method [ mxszor ] we get @ xmath173 where @ xmath174 the polynomial @ xmath171 can reach the identity matrix for this polynomial if and only if @ xmath175 reaches @ xmath51 ( @ xmath176 ) and @ xmath177 reaches @ xmath52 for the same polynomial ( @ xmath122 ) . then @ xmath178 is valid over @ xmath60 if and only if the system of equations @ xmath179 is valid over @ xmath39 . this is a system of equations over @ xmath39 where the coefficients are written as sums of monomials . then we can find the solution of this system of equations in polynomial time by using [ egyrszmo ] . the transformation of @ xmath171 over @ xmath60 into the system of equations @ xmath180 over @ xmath39 can be found in@ xmath124 is by theorem [ mxszor ] , and the size of the solution is @ xmath181 . the number of solutions is @ xmath182 , which does not depend on @ xmath125 , but on the solution @ xmath60 . by theorem [ egyrszmo ] we can determine whether this problem has a solution in @ xmath183 time . let @ xmath104 be the ring of @ xmath184 matrices over @ xmath87 where any matrix above and below the upper bound of a matrix over @ xmath104 is a solution of @ xmath103 . let @ xmath171 be a matrix over @ xmath104 written as a product of monomials . let @ xmath185 be a monomial in the ring . then @ xmath186 if @ xmath187 is , then @ xmath188 are variables over @ xmath87 . if @ xmath187 is a matrix , then @ xmath188 are variables , that we can determine from @ xmath87 . let, @ xmath167 if and only if @ xmath189 and @ xmath190 for each @ xmath191 . thus @ xmath195 is a polynomial defined as a product of monomials and @ xmath101 . for every such monomial we have one term from the polynomial @ xmath158 @ xmath196 . thus the characteristic of every monomial is @ xmath125 . there are at most @ xmath197 monomials for each polynomial @ xmath195 according to the above definition of polynomial . first , every nonzero monomial has at most @ xmath198 terms from below to above the main diagonal , since the characteristic of @ xmath101 is @ xmath99 . thus every nonzero monomial is of the form @ xmath199 where @ xmath200 and @ xmath201 . note that @ xmath202 exists as well . second , every polynomial @ xmath203 comes from above the main diagonal , hence @ xmath204 . hence @ xmath205 and hence @xmath206 . let @ xmath207 . then the sum of every nonzero monomial is at most @ xmath208 . in particular , if @ xmath209 then every monomial in @ xmath195 is @ xmath52 . then there are at most @ xmath210 monomials in the form @ xmath195 and in @ xmath211 . the identity matrix @ xmath171 is the sum of at most @ xmath212 monomials @ xmath213 . if @ xmath214 then @ xmath215 is the sum of at most @ xmath212 - terms in @ xmath195 for every @ xmath216 . similarly @ xmath217 , similarly @ xmath218 and @ xmath100 , depending on the polynomial @ xmath31 . the polynomial @ xmath171 will be the identity matrix for a substitution if and only if @ xmath215 has equality for the same polynomial for every @ xmath219 . then @ xmath220 is symmetric .@ xmath104 if and only if the system of equations @ xmath221 is valid over @ xmath101 . this is the system of equations over @ xmath222 where the coefficients are expressed as sums of monomials . then we can determine the solution of this system of equations in polynomial time by theorem [ er ] . the decomposition of @ xmath171 over @ xmath104 into the system of equations @ xmath223 can be done in @ xmath224 time , and @ xmath225 . the system of equations over @ xmath226 , which does not depend on @ xmath212 , but on the solution @ xmath104 . by theorem [ er ] we can determine whether this system has a solution in @ xmath227 time . now , we see how this method can be used to decide if the equation @ xmath34 is valid over an _ n _ n ring @ xmath31 of integers @ xmath228 . let @ xmath104 be the polynomial equation defined by theorem [ wil ] , and let @ xmath22##9 . 2 , let @ xmath171 be the polynomial over @ xmath104 corresponding to @ xmath95 . note , that @ xmath230 is the zero of @ xmath31 in the [ wil ] , not @ xmath231 . therefore @ xmath232 and @ xmath233 . therefore @ xmath234 . therefore , one can decide if @ xmath235 is polynomial over @ xmath236 in @ xmath237 time . therefore , one can decide if the polynomial @ xmath34 is polynomial over @ xmath31 in @ xmath238 time . therefore , @ xmath239 , which also depends on @ xmath31 . therefore , if @ xmath95 is determined by the _ set of monomials _ , then @ xmath240 , and one can decide @ xmath241 is an arbitrary polynomial over @ xmath31 in @ xmath242 time , as before . if , however , @ xmath95 is an arbitrary polynomial over @ xmath31 , then , determining thefor a product of monomials we write @ xmath243 , adding an arbitrary @ xmath244 factor to the result . alternatively , we can write @ xmath241 for an arbitrary polynomial in @ xmath31 and @ xmath245 factor . mikael goldmann and daniel katz . the complexity of optimization problems over finite fields . in _ proceedings of the 10th annual ieee conference on computational complexity _ , pages 8086 , atlanta , georgia , 1999 .